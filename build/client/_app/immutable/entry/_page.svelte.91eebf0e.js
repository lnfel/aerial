import{S as yi,i as _i,s as gi,J as de,K as ve,m as $,h as W,n as w,b as ke,G as z,H as fe,L as li,k as te,a as ye,l as ae,c as _e,M as ui,N as La,O as za,g as hi,d as wi,P as Ua,I as Ha,w as si,q as me,r as pe,u as Ne,Q as Ei,R as fi,y as Ya,z as Wa,A as Ga,B as Va,p as ci}from"../chunks/index.acd01143.js";import{p as qa}from"../chunks/parse.d12b0d5b.js";import{j as De}from"../chunks/singletons.33481361.js";import{p as Xa}from"../chunks/stores.4916bcc8.js";De.disable_scroll_handling;De.goto;De.invalidate;const mr=De.invalidateAll;De.preload_data;De.preload_code;De.before_navigate;De.after_navigate;const Ka=De.apply_action;function Ja(b){const y=JSON.parse(b);return y.data&&(y.data=qa(y.data)),y}function Za(b,y=()=>{}){const m=async({action:v,result:i,reset:F})=>{i.type==="success"&&(F!==!1&&HTMLFormElement.prototype.reset.call(b),await mr()),(location.origin+location.pathname===v.origin+v.pathname||i.type==="redirect"||i.type==="error")&&Ka(i)};async function E(v){var L,H,q;v.preventDefault();const i=new URL((L=v.submitter)!=null&&L.hasAttribute("formaction")?v.submitter.formAction:HTMLFormElement.prototype.cloneNode.call(b).action),F=new FormData(b),k=(H=v.submitter)==null?void 0:H.getAttribute("name");k&&F.append(k,((q=v.submitter)==null?void 0:q.getAttribute("value"))??"");const A=new AbortController;let C=!1;const I=await y({action:i,cancel:()=>C=!0,controller:A,data:F,form:b})??m;if(C)return;let N;try{const R=await fetch(i,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:F,signal:A.signal});N=Ja(await R.text()),N.type==="error"&&(N.status=R.status)}catch(R){if((R==null?void 0:R.name)==="AbortError")return;N={type:"error",error:R}}I({action:i,data:F,form:b,update:R=>m({action:i,result:N,reset:R==null?void 0:R.reset}),result:N})}return HTMLFormElement.prototype.addEventListener.call(b,"submit",E),{destroy(){HTMLFormElement.prototype.removeEventListener.call(b,"submit",E)}}}var Pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qa(b){if(b.__esModule)return b;var y=b.default;if(typeof y=="function"){var m=function E(){if(this instanceof E){var v=[null];v.push.apply(v,arguments);var i=Function.bind.apply(y,v);return new i}return y.apply(this,arguments)};m.prototype=y.prototype}else m={};return Object.defineProperty(m,"__esModule",{value:!0}),Object.keys(b).forEach(function(E){var v=Object.getOwnPropertyDescriptor(b,E);Object.defineProperty(m,E,v.get?v:{enumerable:!0,get:function(){return b[E]}})}),m}var nr={},pr={},$a={get exports(){return pr},set exports(b){pr=b}};const eo={},ro=Object.freeze(Object.defineProperty({__proto__:null,default:eo},Symbol.toStringTag,{value:"Module"})),rr=Qa(ro);(function(b,y){var m=function(){var E=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(E=E||__filename),function(v){v=v||{};var i=typeof v<"u"?v:{},F;i.ready=new Promise(function(e,r){F=e}),i.noExitRuntime=!0,i.noInitialRun=!0,i.locateFile=function(e,r){return L?r+e:e},i.onRuntimeInitialized=function(){i.ccall("initContext"),v.openDocument=i.cwrap("openDocument","number",["string"]),v.freeDocument=i.cwrap("freeDocument","null",["number"]),v.documentTitle=i.cwrap("documentTitle","string",["number"]),v.countPages=i.cwrap("countPages","number",["number"]),v.pageWidth=i.cwrap("pageWidth","number",["number","number","number"]),v.pageHeight=i.cwrap("pageHeight","number",["number","number","number"]),v.pageLinks=i.cwrap("pageLinks","string",["number","number","number"]),v.drawPageAsPNG=i.cwrap("drawPageAsPNG","string",["number","number","number"]),v.drawPageAsHTML=i.cwrap("drawPageAsHTML","string",["number","number"]),v.drawPageAsSVG=i.cwrap("drawPageAsSVG","string",["number","number"]),v.loadOutline=i.cwrap("loadOutline","number",["number"]),v.freeOutline=i.cwrap("freeOutline",null,["number"]),v.outlineTitle=i.cwrap("outlineTitle","string",["number"]),v.outlinePage=i.cwrap("outlinePage","number",["number","number"]),v.outlineDown=i.cwrap("outlineDown","number",["number","number"]),v.outlineNext=i.cwrap("outlineNext","number",["number","number"]),v.getPageText=i.cwrap("getPageText","string",["number","number"]);const e=i.cwrap("searchPageText","string",["number","number","string","number"]);v.searchPageText=(r,n,t,o)=>e(r,n,t,o).slice(0,-1).split(`
`).map(u=>{const[s,f,c,d,p]=u.split(";").map(h=>parseFloat(h));return{x:s,y:f,w:c,h:d,isContinuation:p===1}})},v.documentOutline=function(e){function r(o){for(var l=document.createElement("ul");o;){var u=document.createElement("li"),s=document.createElement("a");s.href="#page"+v.outlinePage(o),s.textContent=v.outlineTitle(o),u.appendChild(s);var f=v.outlineDown(o);f&&u.appendChild(r(f)),l.appendChild(u),o=v.outlineNext(o)}return l}var n=v.loadOutline(e);if(n){var t=r(n);return v.freeOutline(n),t}return null};var k={},A;for(A in i)i.hasOwnProperty(A)&&(k[A]=i[A]);var C="./this.program",M=function(e,r){throw r},I=!1,N=!1,L=!1,H=!1;I=typeof window=="object",N=typeof importScripts=="function",L=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",H=!I&&!L&&!N;var q="";function R(e){return i.locateFile?i.locateFile(e,q):q+e}var U,O,B,K;L?(N?q=rr.dirname(q)+"/":q=__dirname+"/",U=function(r,n){return B||(B=rr),K||(K=rr),r=K.normalize(r),B.readFileSync(r,n?null:"utf8")},O=function(r){var n=U(r,!0);return n.buffer||(n=new Uint8Array(n)),Ue(n.buffer),n},process.argv.length>1&&(C=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(e){if(!(e instanceof oi))throw e}),process.on("unhandledRejection",ue),M=function(e){process.exit(e)},i.inspect=function(){return"[Emscripten Module object]"}):H?(typeof read<"u"&&(U=function(r){return read(r)}),O=function(r){var n;return typeof readbuffer=="function"?new Uint8Array(readbuffer(r)):(n=read(r,"binary"),Ue(typeof n=="object"),n)},typeof scriptArgs<"u"&&scriptArgs,typeof quit=="function"&&(M=function(e){quit(e)}),typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)):(I||N)&&(N?q=self.location.href:document.currentScript&&(q=document.currentScript.src),E&&(q=E),q.indexOf("blob:")!==0?q=q.substr(0,q.lastIndexOf("/")+1):q="",U=function(r){var n=new XMLHttpRequest;return n.open("GET",r,!1),n.send(null),n.responseText},N&&(O=function(r){var n=new XMLHttpRequest;return n.open("GET",r,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}));var J=i.print||console.log.bind(console),V=i.printErr||console.warn.bind(console);for(A in k)k.hasOwnProperty(A)&&(i[A]=k[A]);k=null,i.arguments&&i.arguments,i.thisProgram&&(C=i.thisProgram),i.quit&&(M=i.quit);var ie=0,re=function(e){ie=e},Se=function(){return ie},ge;i.wasmBinary&&(ge=i.wasmBinary);var he;i.noExitRuntime&&(he=i.noExitRuntime),typeof WebAssembly!="object"&&V("no native wasm support detected");var ce,ze=new WebAssembly.Table({initial:3014,maximum:3014+0,element:"anyfunc"}),Oe=!1;function Ue(e,r){e||ue("Assertion failed: "+r)}function _r(e){var r=i["_"+e];return Ue(r,"Cannot call unknown function "+e+", make sure it is exported"),r}function gr(e,r,n,t,o){var l={string:function(g){var x=0;if(g!=null&&g!==0){var Z=(g.length<<2)+1;x=dr(Z),ir(g,x,Z)}return x},array:function(g){var x=dr(g.length);return Er(g,x),x}};function u(g){return r==="string"?He(g):r==="boolean"?Boolean(g):g}var s=_r(e),f=[],c=0;if(t)for(var d=0;d<t.length;d++){var p=l[n[d]];p?(c===0&&(c=j()),f[d]=p(t[d])):f[d]=t[d]}var h=s.apply(null,f);return h=u(h),c!==0&&P(c),h}function Ci(e,r,n,t){n=n||[];var o=n.every(function(u){return u==="number"}),l=r!=="string";return l&&o&&!t?_r(e):function(){return gr(e,r,n,arguments)}}var hr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Fe(e,r,n){for(var t=r+n,o=r;e[o]&&!(o>=t);)++o;if(o-r>16&&e.subarray&&hr)return hr.decode(e.subarray(r,o));for(var l="";r<o;){var u=e[r++];if(!(u&128)){l+=String.fromCharCode(u);continue}var s=e[r++]&63;if((u&224)==192){l+=String.fromCharCode((u&31)<<6|s);continue}var f=e[r++]&63;if((u&240)==224?u=(u&15)<<12|s<<6|f:u=(u&7)<<18|s<<12|f<<6|e[r++]&63,u<65536)l+=String.fromCharCode(u);else{var c=u-65536;l+=String.fromCharCode(55296|c>>10,56320|c&1023)}}return l}function He(e,r){return e?Fe(xe,e,r):""}function Ye(e,r,n,t){if(!(t>0))return 0;for(var o=n,l=n+t-1,u=0;u<e.length;++u){var s=e.charCodeAt(u);if(s>=55296&&s<=57343){var f=e.charCodeAt(++u);s=65536+((s&1023)<<10)|f&1023}if(s<=127){if(n>=l)break;r[n++]=s}else if(s<=2047){if(n+1>=l)break;r[n++]=192|s>>6,r[n++]=128|s&63}else if(s<=65535){if(n+2>=l)break;r[n++]=224|s>>12,r[n++]=128|s>>6&63,r[n++]=128|s&63}else{if(n+3>=l)break;r[n++]=240|s>>18,r[n++]=128|s>>12&63,r[n++]=128|s>>6&63,r[n++]=128|s&63}}return r[n]=0,n-o}function ir(e,r,n){return Ye(e,xe,r,n)}function We(e){for(var r=0,n=0;n<e.length;++n){var t=e.charCodeAt(n);t>=55296&&t<=57343&&(t=65536+((t&1023)<<10)|e.charCodeAt(++n)&1023),t<=127?++r:t<=2047?r+=2:t<=65535?r+=3:r+=4}return r}function wr(e){var r=We(e)+1,n=cr(r);return n&&Ye(e,we,n,r),n}function Er(e,r){we.set(e,r)}function Di(e,r,n){for(var t=0;t<e.length;++t)we[r++>>0]=e.charCodeAt(t);n||(we[r>>0]=0)}var br=65536;function Si(e,r){return e%r>0&&(e+=r-e%r),e}var Re,we,xe,kr,D;function Cr(e){Re=e,i.HEAP8=we=new Int8Array(e),i.HEAP16=kr=new Int16Array(e),i.HEAP32=D=new Int32Array(e),i.HEAPU8=xe=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAPU32=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=new Float64Array(e)}var ji=7363904,Pi=2120864,Dr=i.INITIAL_MEMORY||786432e3;i.wasmMemory?ce=i.wasmMemory:ce=new WebAssembly.Memory({initial:Dr/br,maximum:2147483648/br}),ce&&(Re=ce.buffer),Dr=Re.byteLength,Cr(Re),D[Pi>>2]=ji;function Ge(e){for(;e.length>0;){var r=e.shift();if(typeof r=="function"){r(i);continue}var n=r.func;typeof n=="number"?r.arg===void 0?i.dynCall_v(n):i.dynCall_vi(n,r.arg):n(r.arg===void 0?null:r.arg)}}var Sr=[],jr=[],Ai=[],Pr=[];function Mi(){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)xi(i.preRun.shift());Ge(Sr)}function Ti(){!i.noFSInit&&!a.init.initialized&&a.init(),Ge(jr)}function Fi(){a.ignorePermissions=!1,Ge(Ai)}function Ri(){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)Ni(i.postRun.shift());Ge(Pr)}function xi(e){Sr.unshift(e)}function Ni(e){Pr.unshift(e)}var tr=Math.abs,ar=Math.ceil,or=Math.floor,lr=Math.min,Ae=0,Be=null;function Ar(e){Ae++,i.monitorRunDependencies&&i.monitorRunDependencies(Ae)}function ur(e){if(Ae--,i.monitorRunDependencies&&i.monitorRunDependencies(Ae),Ae==0&&Be){var r=Be;Be=null,r()}}i.preloadedImages={},i.preloadedAudios={};function ue(e){throw i.onAbort&&i.onAbort(e),e+="",J(e),V(e),Oe=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}function Mr(e,r){return String.prototype.startsWith?e.startsWith(r):e.indexOf(r)===0}var Oi="data:application/octet-stream;base64,";function Tr(e){return Mr(e,Oi)}var Bi="file://";function Fr(e){return Mr(e,Bi)}var Ee="libmupdf.wasm";Tr(Ee)||(Ee=R(Ee));function Rr(){try{if(ge)return new Uint8Array(ge);if(O)return O(Ee);throw"both async and sync fetching of the wasm failed"}catch(e){ue(e)}}function Ii(){return!ge&&(I||N)&&typeof fetch=="function"&&!Fr(Ee)?fetch(Ee,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+Ee+"'";return e.arrayBuffer()}).catch(function(){return Rr()}):new Promise(function(e,r){e(Rr())})}function Li(){var e={a:gt};function r(u,s){var f=u.exports;i.asm=f,ur()}Ar();function n(u){r(u.instance)}function t(u){return Ii().then(function(s){return WebAssembly.instantiate(s,e)}).then(u,function(s){V("failed to asynchronously prepare wasm: "+s),ue(s)})}function o(){if(!ge&&typeof WebAssembly.instantiateStreaming=="function"&&!Tr(Ee)&&!Fr(Ee)&&typeof fetch=="function")fetch(Ee,{credentials:"same-origin"}).then(function(u){var s=WebAssembly.instantiateStreaming(u,e);return s.then(n,function(f){return V("wasm streaming compile failed: "+f),V("falling back to ArrayBuffer instantiation"),t(n)})});else return t(n)}if(i.instantiateWasm)try{var l=i.instantiateWasm(e,r);return l}catch(u){return V("Module.instantiateWasm callback failed with error: "+u),!1}return o(),{}}var le,Ce;jr.push({func:function(){Or()}});function go(e){return e}function zi(e){var r=/\b_Z[\w\d_]+/g;return e.replace(r,function(n){var t=n;return n===t?n:t+" ["+n+"]"})}function Ui(){var e=new Error;if(!e.stack){try{throw new Error}catch(r){e=r}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function Hi(){var e=Ui();return i.extraStackTrace&&(e+=`
`+i.extraStackTrace()),zi(e)}function Ve(e){return D[Br()>>2]=e,e}var X={splitPath:function(e){var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return r.exec(e).slice(1)},normalizeArray:function(e,r){for(var n=0,t=e.length-1;t>=0;t--){var o=e[t];o==="."?e.splice(t,1):o===".."?(e.splice(t,1),n++):n&&(e.splice(t,1),n--)}if(r)for(;n;n--)e.unshift("..");return e},normalize:function(e){var r=e.charAt(0)==="/",n=e.substr(-1)==="/";return e=X.normalizeArray(e.split("/").filter(function(t){return!!t}),!r).join("/"),!e&&!r&&(e="."),e&&n&&(e+="/"),(r?"/":"")+e},dirname:function(e){var r=X.splitPath(e),n=r[0],t=r[1];return!n&&!t?".":(t&&(t=t.substr(0,t.length-1)),n+t)},basename:function(e){if(e==="/")return"/";var r=e.lastIndexOf("/");return r===-1?e:e.substr(r+1)},extname:function(e){return X.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return X.normalize(e.join("/"))},join2:function(e,r){return X.normalize(e+"/"+r)}},be={resolve:function(){for(var e="",r=!1,n=arguments.length-1;n>=-1&&!r;n--){var t=n>=0?arguments[n]:a.cwd();if(typeof t!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,r=t.charAt(0)==="/"}return e=X.normalizeArray(e.split("/").filter(function(o){return!!o}),!r).join("/"),(r?"/":"")+e||"."},relative:function(e,r){e=be.resolve(e).substr(1),r=be.resolve(r).substr(1);function n(c){for(var d=0;d<c.length&&c[d]==="";d++);for(var p=c.length-1;p>=0&&c[p]==="";p--);return d>p?[]:c.slice(d,p-d+1)}for(var t=n(e.split("/")),o=n(r.split("/")),l=Math.min(t.length,o.length),u=l,s=0;s<l;s++)if(t[s]!==o[s]){u=s;break}for(var f=[],s=u;s<t.length;s++)f.push("..");return f=f.concat(o.slice(u)),f.join("/")}},Me={ttys:[],init:function(){},shutdown:function(){},register:function(e,r){Me.ttys[e]={input:[],output:[],ops:r},a.registerDevice(e,Me.stream_ops)},stream_ops:{open:function(e){var r=Me.ttys[e.node.rdev];if(!r)throw new a.ErrnoError(43);e.tty=r,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,r,n,t,o){if(!e.tty||!e.tty.ops.get_char)throw new a.ErrnoError(60);for(var l=0,u=0;u<t;u++){var s;try{s=e.tty.ops.get_char(e.tty)}catch{throw new a.ErrnoError(29)}if(s===void 0&&l===0)throw new a.ErrnoError(6);if(s==null)break;l++,r[n+u]=s}return l&&(e.node.timestamp=Date.now()),l},write:function(e,r,n,t,o){if(!e.tty||!e.tty.ops.put_char)throw new a.ErrnoError(60);try{for(var l=0;l<t;l++)e.tty.ops.put_char(e.tty,r[n+l])}catch{throw new a.ErrnoError(29)}return t&&(e.node.timestamp=Date.now()),l}},default_tty_ops:{get_char:function(e){if(!e.input.length){var r=null;if(L){var n=256,t=Buffer.alloc?Buffer.alloc(n):new Buffer(n),o=0;try{o=B.readSync(process.stdin.fd,t,0,n,null)}catch(l){if(l.toString().indexOf("EOF")!=-1)o=0;else throw l}o>0?r=t.slice(0,o).toString("utf-8"):r=null}else typeof window<"u"&&typeof window.prompt=="function"?(r=window.prompt("Input: "),r!==null&&(r+=`
`)):typeof readline=="function"&&(r=readline(),r!==null&&(r+=`
`));if(!r)return null;e.input=$e(r,!0)}return e.input.shift()},put_char:function(e,r){r===null||r===10?(J(Fe(e.output,0)),e.output=[]):r!=0&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(J(Fe(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,r){r===null||r===10?(V(Fe(e.output,0)),e.output=[]):r!=0&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(V(Fe(e.output,0)),e.output=[])}}},Y={ops_table:null,mount:function(e){return Y.createNode(null,"/",16895,0)},createNode:function(e,r,n,t){if(a.isBlkdev(n)||a.isFIFO(n))throw new a.ErrnoError(63);Y.ops_table||(Y.ops_table={dir:{node:{getattr:Y.node_ops.getattr,setattr:Y.node_ops.setattr,lookup:Y.node_ops.lookup,mknod:Y.node_ops.mknod,rename:Y.node_ops.rename,unlink:Y.node_ops.unlink,rmdir:Y.node_ops.rmdir,readdir:Y.node_ops.readdir,symlink:Y.node_ops.symlink},stream:{llseek:Y.stream_ops.llseek}},file:{node:{getattr:Y.node_ops.getattr,setattr:Y.node_ops.setattr},stream:{llseek:Y.stream_ops.llseek,read:Y.stream_ops.read,write:Y.stream_ops.write,allocate:Y.stream_ops.allocate,mmap:Y.stream_ops.mmap,msync:Y.stream_ops.msync}},link:{node:{getattr:Y.node_ops.getattr,setattr:Y.node_ops.setattr,readlink:Y.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Y.node_ops.getattr,setattr:Y.node_ops.setattr},stream:a.chrdev_stream_ops}});var o=a.createNode(e,r,n,t);return a.isDir(o.mode)?(o.node_ops=Y.ops_table.dir.node,o.stream_ops=Y.ops_table.dir.stream,o.contents={}):a.isFile(o.mode)?(o.node_ops=Y.ops_table.file.node,o.stream_ops=Y.ops_table.file.stream,o.usedBytes=0,o.contents=null):a.isLink(o.mode)?(o.node_ops=Y.ops_table.link.node,o.stream_ops=Y.ops_table.link.stream):a.isChrdev(o.mode)&&(o.node_ops=Y.ops_table.chrdev.node,o.stream_ops=Y.ops_table.chrdev.stream),o.timestamp=Date.now(),e&&(e.contents[r]=o),o},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var r=[],n=0;n<e.usedBytes;++n)r.push(e.contents[n]);return r}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,r){var n=e.contents?e.contents.length:0;if(!(n>=r)){var t=1024*1024;r=Math.max(r,n*(n<t?2:1.125)>>>0),n!=0&&(r=Math.max(r,256));var o=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(o.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,r){if(e.usedBytes!=r){if(r==0){e.contents=null,e.usedBytes=0;return}if(!e.contents||e.contents.subarray){var n=e.contents;e.contents=new Uint8Array(r),n&&e.contents.set(n.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r;return}if(e.contents||(e.contents=[]),e.contents.length>r)e.contents.length=r;else for(;e.contents.length<r;)e.contents.push(0);e.usedBytes=r}},node_ops:{getattr:function(e){var r={};return r.dev=a.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,a.isDir(e.mode)?r.size=4096:a.isFile(e.mode)?r.size=e.usedBytes:a.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr:function(e,r){r.mode!==void 0&&(e.mode=r.mode),r.timestamp!==void 0&&(e.timestamp=r.timestamp),r.size!==void 0&&Y.resizeFileStorage(e,r.size)},lookup:function(e,r){throw a.genericErrors[44]},mknod:function(e,r,n,t){return Y.createNode(e,r,n,t)},rename:function(e,r,n){if(a.isDir(e.mode)){var t;try{t=a.lookupNode(r,n)}catch{}if(t)for(var o in t.contents)throw new a.ErrnoError(55)}delete e.parent.contents[e.name],e.name=n,r.contents[n]=e,e.parent=r},unlink:function(e,r){delete e.contents[r]},rmdir:function(e,r){var n=a.lookupNode(e,r);for(var t in n.contents)throw new a.ErrnoError(55);delete e.contents[r]},readdir:function(e){var r=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&r.push(n);return r},symlink:function(e,r,n){var t=Y.createNode(e,r,41471,0);return t.link=n,t},readlink:function(e){if(!a.isLink(e.mode))throw new a.ErrnoError(28);return e.link}},stream_ops:{read:function(e,r,n,t,o){var l=e.node.contents;if(o>=e.node.usedBytes)return 0;var u=Math.min(e.node.usedBytes-o,t);if(u>8&&l.subarray)r.set(l.subarray(o,o+u),n);else for(var s=0;s<u;s++)r[n+s]=l[o+s];return u},write:function(e,r,n,t,o,l){if(r.buffer===we.buffer&&(l=!1),!t)return 0;var u=e.node;if(u.timestamp=Date.now(),r.subarray&&(!u.contents||u.contents.subarray)){if(l)return u.contents=r.subarray(n,n+t),u.usedBytes=t,t;if(u.usedBytes===0&&o===0)return u.contents=r.slice(n,n+t),u.usedBytes=t,t;if(o+t<=u.usedBytes)return u.contents.set(r.subarray(n,n+t),o),t}if(Y.expandFileStorage(u,o+t),u.contents.subarray&&r.subarray)u.contents.set(r.subarray(n,n+t),o);else for(var s=0;s<t;s++)u.contents[o+s]=r[n+s];return u.usedBytes=Math.max(u.usedBytes,o+t),t},llseek:function(e,r,n){var t=r;if(n===1?t+=e.position:n===2&&a.isFile(e.node.mode)&&(t+=e.node.usedBytes),t<0)throw new a.ErrnoError(28);return t},allocate:function(e,r,n){Y.expandFileStorage(e.node,r+n),e.node.usedBytes=Math.max(e.node.usedBytes,r+n)},mmap:function(e,r,n,t,o,l){if(Ue(r===0),!a.isFile(e.node.mode))throw new a.ErrnoError(43);var u,s,f=e.node.contents;if(!(l&2)&&f.buffer===Re)s=!1,u=f.byteOffset;else{if((t>0||t+n<f.length)&&(f.subarray?f=f.subarray(t,t+n):f=Array.prototype.slice.call(f,t,t+n)),s=!0,u=cr(n),!u)throw new a.ErrnoError(48);we.set(f,u)}return{ptr:u,allocated:s}},msync:function(e,r,n,t,o){if(!a.isFile(e.node.mode))throw new a.ErrnoError(43);return o&2||Y.stream_ops.write(e,r,0,t,n,!1),0}}},a={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof a.ErrnoError))throw e+" : "+Hi();return Ve(e.errno)},lookupPath:function(e,r){if(e=be.resolve(a.cwd(),e),r=r||{},!e)return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};for(var t in n)r[t]===void 0&&(r[t]=n[t]);if(r.recurse_count>8)throw new a.ErrnoError(32);for(var o=X.normalizeArray(e.split("/").filter(function(h){return!!h}),!1),l=a.root,u="/",s=0;s<o.length;s++){var f=s===o.length-1;if(f&&r.parent)break;if(l=a.lookupNode(l,o[s]),u=X.join2(u,o[s]),a.isMountpoint(l)&&(!f||f&&r.follow_mount)&&(l=l.mounted.root),!f||r.follow)for(var c=0;a.isLink(l.mode);){var d=a.readlink(u);u=be.resolve(X.dirname(u),d);var p=a.lookupPath(u,{recurse_count:r.recurse_count});if(l=p.node,c++>40)throw new a.ErrnoError(32)}}return{path:u,node:l}},getPath:function(e){for(var r;;){if(a.isRoot(e)){var n=e.mount.mountpoint;return r?n[n.length-1]!=="/"?n+"/"+r:n+r:n}r=r?e.name+"/"+r:e.name,e=e.parent}},hashName:function(e,r){for(var n=0,t=0;t<r.length;t++)n=(n<<5)-n+r.charCodeAt(t)|0;return(e+n>>>0)%a.nameTable.length},hashAddNode:function(e){var r=a.hashName(e.parent.id,e.name);e.name_next=a.nameTable[r],a.nameTable[r]=e},hashRemoveNode:function(e){var r=a.hashName(e.parent.id,e.name);if(a.nameTable[r]===e)a.nameTable[r]=e.name_next;else for(var n=a.nameTable[r];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,r){var n=a.mayLookup(e);if(n)throw new a.ErrnoError(n,e);for(var t=a.hashName(e.id,r),o=a.nameTable[t];o;o=o.name_next){var l=o.name;if(o.parent.id===e.id&&l===r)return o}return a.lookup(e,r)},createNode:function(e,r,n,t){var o=new a.FSNode(e,r,n,t);return a.hashAddNode(o),o},destroyNode:function(e){a.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return(e&61440)===32768},isDir:function(e){return(e&61440)===16384},isLink:function(e){return(e&61440)===40960},isChrdev:function(e){return(e&61440)===8192},isBlkdev:function(e){return(e&61440)===24576},isFIFO:function(e){return(e&61440)===4096},isSocket:function(e){return(e&49152)===49152},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var r=a.flagModes[e];if(typeof r>"u")throw new Error("Unknown file open mode: "+e);return r},flagsToPermissionString:function(e){var r=["r","w","rw"][e&3];return e&512&&(r+="w"),r},nodePermissions:function(e,r){return a.ignorePermissions?0:r.indexOf("r")!==-1&&!(e.mode&292)||r.indexOf("w")!==-1&&!(e.mode&146)||r.indexOf("x")!==-1&&!(e.mode&73)?2:0},mayLookup:function(e){var r=a.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:2)},mayCreate:function(e,r){try{var n=a.lookupNode(e,r);return 20}catch{}return a.nodePermissions(e,"wx")},mayDelete:function(e,r,n){var t;try{t=a.lookupNode(e,r)}catch(l){return l.errno}var o=a.nodePermissions(e,"wx");if(o)return o;if(n){if(!a.isDir(t.mode))return 54;if(a.isRoot(t)||a.getPath(t)===a.cwd())return 10}else if(a.isDir(t.mode))return 31;return 0},mayOpen:function(e,r){return e?a.isLink(e.mode)?32:a.isDir(e.mode)&&(a.flagsToPermissionString(r)!=="r"||r&512)?31:a.nodePermissions(e,a.flagsToPermissionString(r)):44},MAX_OPEN_FDS:4096,nextfd:function(e,r){e=e||0,r=r||a.MAX_OPEN_FDS;for(var n=e;n<=r;n++)if(!a.streams[n])return n;throw new a.ErrnoError(33)},getStream:function(e){return a.streams[e]},createStream:function(e,r,n){a.FSStream||(a.FSStream=function(){},a.FSStream.prototype={object:{get:function(){return this.node},set:function(u){this.node=u}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}});var t=new a.FSStream;for(var o in e)t[o]=e[o];e=t;var l=a.nextfd(r,n);return e.fd=l,a.streams[l]=e,e},closeStream:function(e){a.streams[e]=null},chrdev_stream_ops:{open:function(e){var r=a.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new a.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return e&255},makedev:function(e,r){return e<<8|r},registerDevice:function(e,r){a.devices[e]={stream_ops:r}},getDevice:function(e){return a.devices[e]},getMounts:function(e){for(var r=[],n=[e];n.length;){var t=n.pop();r.push(t),n.push.apply(n,t.mounts)}return r},syncfs:function(e,r){typeof e=="function"&&(r=e,e=!1),a.syncFSRequests++,a.syncFSRequests>1&&V("warning: "+a.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=a.getMounts(a.root.mount),t=0;function o(u){return a.syncFSRequests--,r(u)}function l(u){if(u)return l.errored?void 0:(l.errored=!0,o(u));++t>=n.length&&o(null)}n.forEach(function(u){if(!u.type.syncfs)return l(null);u.type.syncfs(u,e,l)})},mount:function(e,r,n){var t=n==="/",o=!n,l;if(t&&a.root)throw new a.ErrnoError(10);if(!t&&!o){var u=a.lookupPath(n,{follow_mount:!1});if(n=u.path,l=u.node,a.isMountpoint(l))throw new a.ErrnoError(10);if(!a.isDir(l.mode))throw new a.ErrnoError(54)}var s={type:e,opts:r,mountpoint:n,mounts:[]},f=e.mount(s);return f.mount=s,s.root=f,t?a.root=f:l&&(l.mounted=s,l.mount&&l.mount.mounts.push(s)),f},unmount:function(e){var r=a.lookupPath(e,{follow_mount:!1});if(!a.isMountpoint(r.node))throw new a.ErrnoError(28);var n=r.node,t=n.mounted,o=a.getMounts(t);Object.keys(a.nameTable).forEach(function(u){for(var s=a.nameTable[u];s;){var f=s.name_next;o.indexOf(s.mount)!==-1&&a.destroyNode(s),s=f}}),n.mounted=null;var l=n.mount.mounts.indexOf(t);n.mount.mounts.splice(l,1)},lookup:function(e,r){return e.node_ops.lookup(e,r)},mknod:function(e,r,n){var t=a.lookupPath(e,{parent:!0}),o=t.node,l=X.basename(e);if(!l||l==="."||l==="..")throw new a.ErrnoError(28);var u=a.mayCreate(o,l);if(u)throw new a.ErrnoError(u);if(!o.node_ops.mknod)throw new a.ErrnoError(63);return o.node_ops.mknod(o,l,r,n)},create:function(e,r){return r=r!==void 0?r:438,r&=4095,r|=32768,a.mknod(e,r,0)},mkdir:function(e,r){return r=r!==void 0?r:511,r&=1023,r|=16384,a.mknod(e,r,0)},mkdirTree:function(e,r){for(var n=e.split("/"),t="",o=0;o<n.length;++o)if(n[o]){t+="/"+n[o];try{a.mkdir(t,r)}catch(l){if(l.errno!=20)throw l}}},mkdev:function(e,r,n){return typeof n>"u"&&(n=r,r=438),r|=8192,a.mknod(e,r,n)},symlink:function(e,r){if(!be.resolve(e))throw new a.ErrnoError(44);var n=a.lookupPath(r,{parent:!0}),t=n.node;if(!t)throw new a.ErrnoError(44);var o=X.basename(r),l=a.mayCreate(t,o);if(l)throw new a.ErrnoError(l);if(!t.node_ops.symlink)throw new a.ErrnoError(63);return t.node_ops.symlink(t,o,e)},rename:function(e,r){var n=X.dirname(e),t=X.dirname(r),o=X.basename(e),l=X.basename(r),u,s,f;try{u=a.lookupPath(e,{parent:!0}),s=u.node,u=a.lookupPath(r,{parent:!0}),f=u.node}catch{throw new a.ErrnoError(10)}if(!s||!f)throw new a.ErrnoError(44);if(s.mount!==f.mount)throw new a.ErrnoError(75);var c=a.lookupNode(s,o),d=be.relative(e,t);if(d.charAt(0)!==".")throw new a.ErrnoError(28);if(d=be.relative(r,n),d.charAt(0)!==".")throw new a.ErrnoError(55);var p;try{p=a.lookupNode(f,l)}catch{}if(c!==p){var h=a.isDir(c.mode),g=a.mayDelete(s,o,h);if(g)throw new a.ErrnoError(g);if(g=p?a.mayDelete(f,l,h):a.mayCreate(f,l),g)throw new a.ErrnoError(g);if(!s.node_ops.rename)throw new a.ErrnoError(63);if(a.isMountpoint(c)||p&&a.isMountpoint(p))throw new a.ErrnoError(10);if(f!==s&&(g=a.nodePermissions(s,"w"),g))throw new a.ErrnoError(g);try{a.trackingDelegate.willMovePath&&a.trackingDelegate.willMovePath(e,r)}catch(x){V("FS.trackingDelegate['willMovePath']('"+e+"', '"+r+"') threw an exception: "+x.message)}a.hashRemoveNode(c);try{s.node_ops.rename(c,f,l)}catch(x){throw x}finally{a.hashAddNode(c)}try{a.trackingDelegate.onMovePath&&a.trackingDelegate.onMovePath(e,r)}catch(x){V("FS.trackingDelegate['onMovePath']('"+e+"', '"+r+"') threw an exception: "+x.message)}}},rmdir:function(e){var r=a.lookupPath(e,{parent:!0}),n=r.node,t=X.basename(e),o=a.lookupNode(n,t),l=a.mayDelete(n,t,!0);if(l)throw new a.ErrnoError(l);if(!n.node_ops.rmdir)throw new a.ErrnoError(63);if(a.isMountpoint(o))throw new a.ErrnoError(10);try{a.trackingDelegate.willDeletePath&&a.trackingDelegate.willDeletePath(e)}catch(u){V("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+u.message)}n.node_ops.rmdir(n,t),a.destroyNode(o);try{a.trackingDelegate.onDeletePath&&a.trackingDelegate.onDeletePath(e)}catch(u){V("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+u.message)}},readdir:function(e){var r=a.lookupPath(e,{follow:!0}),n=r.node;if(!n.node_ops.readdir)throw new a.ErrnoError(54);return n.node_ops.readdir(n)},unlink:function(e){var r=a.lookupPath(e,{parent:!0}),n=r.node,t=X.basename(e),o=a.lookupNode(n,t),l=a.mayDelete(n,t,!1);if(l)throw new a.ErrnoError(l);if(!n.node_ops.unlink)throw new a.ErrnoError(63);if(a.isMountpoint(o))throw new a.ErrnoError(10);try{a.trackingDelegate.willDeletePath&&a.trackingDelegate.willDeletePath(e)}catch(u){V("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+u.message)}n.node_ops.unlink(n,t),a.destroyNode(o);try{a.trackingDelegate.onDeletePath&&a.trackingDelegate.onDeletePath(e)}catch(u){V("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+u.message)}},readlink:function(e){var r=a.lookupPath(e),n=r.node;if(!n)throw new a.ErrnoError(44);if(!n.node_ops.readlink)throw new a.ErrnoError(28);return be.resolve(a.getPath(n.parent),n.node_ops.readlink(n))},stat:function(e,r){var n=a.lookupPath(e,{follow:!r}),t=n.node;if(!t)throw new a.ErrnoError(44);if(!t.node_ops.getattr)throw new a.ErrnoError(63);return t.node_ops.getattr(t)},lstat:function(e){return a.stat(e,!0)},chmod:function(e,r,n){var t;if(typeof e=="string"){var o=a.lookupPath(e,{follow:!n});t=o.node}else t=e;if(!t.node_ops.setattr)throw new a.ErrnoError(63);t.node_ops.setattr(t,{mode:r&4095|t.mode&-4096,timestamp:Date.now()})},lchmod:function(e,r){a.chmod(e,r,!0)},fchmod:function(e,r){var n=a.getStream(e);if(!n)throw new a.ErrnoError(8);a.chmod(n.node,r)},chown:function(e,r,n,t){var o;if(typeof e=="string"){var l=a.lookupPath(e,{follow:!t});o=l.node}else o=e;if(!o.node_ops.setattr)throw new a.ErrnoError(63);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:function(e,r,n){a.chown(e,r,n,!0)},fchown:function(e,r,n){var t=a.getStream(e);if(!t)throw new a.ErrnoError(8);a.chown(t.node,r,n)},truncate:function(e,r){if(r<0)throw new a.ErrnoError(28);var n;if(typeof e=="string"){var t=a.lookupPath(e,{follow:!0});n=t.node}else n=e;if(!n.node_ops.setattr)throw new a.ErrnoError(63);if(a.isDir(n.mode))throw new a.ErrnoError(31);if(!a.isFile(n.mode))throw new a.ErrnoError(28);var o=a.nodePermissions(n,"w");if(o)throw new a.ErrnoError(o);n.node_ops.setattr(n,{size:r,timestamp:Date.now()})},ftruncate:function(e,r){var n=a.getStream(e);if(!n)throw new a.ErrnoError(8);if(!(n.flags&2097155))throw new a.ErrnoError(28);a.truncate(n.node,r)},utime:function(e,r,n){var t=a.lookupPath(e,{follow:!0}),o=t.node;o.node_ops.setattr(o,{timestamp:Math.max(r,n)})},open:function(e,r,n,t,o){if(e==="")throw new a.ErrnoError(44);r=typeof r=="string"?a.modeStringToFlags(r):r,n=typeof n>"u"?438:n,r&64?n=n&4095|32768:n=0;var l;if(typeof e=="object")l=e;else{e=X.normalize(e);try{var u=a.lookupPath(e,{follow:!(r&131072)});l=u.node}catch{}}var s=!1;if(r&64)if(l){if(r&128)throw new a.ErrnoError(20)}else l=a.mknod(e,n,0),s=!0;if(!l)throw new a.ErrnoError(44);if(a.isChrdev(l.mode)&&(r&=-513),r&65536&&!a.isDir(l.mode))throw new a.ErrnoError(54);if(!s){var f=a.mayOpen(l,r);if(f)throw new a.ErrnoError(f)}r&512&&a.truncate(l,0),r&=-131713;var c=a.createStream({node:l,path:a.getPath(l),flags:r,seekable:!0,position:0,stream_ops:l.stream_ops,ungotten:[],error:!1},t,o);c.stream_ops.open&&c.stream_ops.open(c),i.logReadFiles&&!(r&1)&&(a.readFiles||(a.readFiles={}),e in a.readFiles||(a.readFiles[e]=1,V("FS.trackingDelegate error on read file: "+e)));try{if(a.trackingDelegate.onOpenFile){var d=0;(r&2097155)!==1&&(d|=a.tracking.openFlags.READ),r&2097155&&(d|=a.tracking.openFlags.WRITE),a.trackingDelegate.onOpenFile(e,d)}}catch(p){V("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+p.message)}return c},close:function(e){if(a.isClosed(e))throw new a.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(r){throw r}finally{a.closeStream(e.fd)}e.fd=null},isClosed:function(e){return e.fd===null},llseek:function(e,r,n){if(a.isClosed(e))throw new a.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new a.ErrnoError(70);if(n!=0&&n!=1&&n!=2)throw new a.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,n),e.ungotten=[],e.position},read:function(e,r,n,t,o){if(t<0||o<0)throw new a.ErrnoError(28);if(a.isClosed(e))throw new a.ErrnoError(8);if((e.flags&2097155)===1)throw new a.ErrnoError(8);if(a.isDir(e.node.mode))throw new a.ErrnoError(31);if(!e.stream_ops.read)throw new a.ErrnoError(28);var l=typeof o<"u";if(!l)o=e.position;else if(!e.seekable)throw new a.ErrnoError(70);var u=e.stream_ops.read(e,r,n,t,o);return l||(e.position+=u),u},write:function(e,r,n,t,o,l){if(t<0||o<0)throw new a.ErrnoError(28);if(a.isClosed(e))throw new a.ErrnoError(8);if(!(e.flags&2097155))throw new a.ErrnoError(8);if(a.isDir(e.node.mode))throw new a.ErrnoError(31);if(!e.stream_ops.write)throw new a.ErrnoError(28);e.seekable&&e.flags&1024&&a.llseek(e,0,2);var u=typeof o<"u";if(!u)o=e.position;else if(!e.seekable)throw new a.ErrnoError(70);var s=e.stream_ops.write(e,r,n,t,o,l);u||(e.position+=s);try{e.path&&a.trackingDelegate.onWriteToFile&&a.trackingDelegate.onWriteToFile(e.path)}catch(f){V("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+f.message)}return s},allocate:function(e,r,n){if(a.isClosed(e))throw new a.ErrnoError(8);if(r<0||n<=0)throw new a.ErrnoError(28);if(!(e.flags&2097155))throw new a.ErrnoError(8);if(!a.isFile(e.node.mode)&&!a.isDir(e.node.mode))throw new a.ErrnoError(43);if(!e.stream_ops.allocate)throw new a.ErrnoError(138);e.stream_ops.allocate(e,r,n)},mmap:function(e,r,n,t,o,l){if(o&2&&!(l&2)&&(e.flags&2097155)!==2)throw new a.ErrnoError(2);if((e.flags&2097155)===1)throw new a.ErrnoError(2);if(!e.stream_ops.mmap)throw new a.ErrnoError(43);return e.stream_ops.mmap(e,r,n,t,o,l)},msync:function(e,r,n,t,o){return!e||!e.stream_ops.msync?0:e.stream_ops.msync(e,r,n,t,o)},munmap:function(e){return 0},ioctl:function(e,r,n){if(!e.stream_ops.ioctl)throw new a.ErrnoError(59);return e.stream_ops.ioctl(e,r,n)},readFile:function(e,r){if(r=r||{},r.flags=r.flags||"r",r.encoding=r.encoding||"binary",r.encoding!=="utf8"&&r.encoding!=="binary")throw new Error('Invalid encoding type "'+r.encoding+'"');var n,t=a.open(e,r.flags),o=a.stat(e),l=o.size,u=new Uint8Array(l);return a.read(t,u,0,l,0),r.encoding==="utf8"?n=Fe(u,0):r.encoding==="binary"&&(n=u),a.close(t),n},writeFile:function(e,r,n){n=n||{},n.flags=n.flags||"w";var t=a.open(e,n.flags,n.mode);if(typeof r=="string"){var o=new Uint8Array(We(r)+1),l=Ye(r,o,0,o.length);a.write(t,o,0,l,void 0,n.canOwn)}else if(ArrayBuffer.isView(r))a.write(t,r,0,r.byteLength,void 0,n.canOwn);else throw new Error("Unsupported data type");a.close(t)},cwd:function(){return a.currentPath},chdir:function(e){var r=a.lookupPath(e,{follow:!0});if(r.node===null)throw new a.ErrnoError(44);if(!a.isDir(r.node.mode))throw new a.ErrnoError(54);var n=a.nodePermissions(r.node,"x");if(n)throw new a.ErrnoError(n);a.currentPath=r.path},createDefaultDirectories:function(){a.mkdir("/tmp"),a.mkdir("/home"),a.mkdir("/home/web_user")},createDefaultDevices:function(){a.mkdir("/dev"),a.registerDevice(a.makedev(1,3),{read:function(){return 0},write:function(t,o,l,u,s){return u}}),a.mkdev("/dev/null",a.makedev(1,3)),Me.register(a.makedev(5,0),Me.default_tty_ops),Me.register(a.makedev(6,0),Me.default_tty1_ops),a.mkdev("/dev/tty",a.makedev(5,0)),a.mkdev("/dev/tty1",a.makedev(6,0));var e;if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var r=new Uint8Array(1);e=function(){return crypto.getRandomValues(r),r[0]}}else if(L)try{var n=rr;e=function(){return n.randomBytes(1)[0]}}catch{}e||(e=function(){ue("random_device")}),a.createDevice("/dev","random",e),a.createDevice("/dev","urandom",e),a.mkdir("/dev/shm"),a.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){a.mkdir("/proc"),a.mkdir("/proc/self"),a.mkdir("/proc/self/fd"),a.mount({mount:function(){var e=a.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(r,n){var t=+n,o=a.getStream(t);if(!o)throw new a.ErrnoError(8);var l={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return o.path}}};return l.parent=l,l}},e}},{},"/proc/self/fd")},createStandardStreams:function(){i.stdin?a.createDevice("/dev","stdin",i.stdin):a.symlink("/dev/tty","/dev/stdin"),i.stdout?a.createDevice("/dev","stdout",null,i.stdout):a.symlink("/dev/tty","/dev/stdout"),i.stderr?a.createDevice("/dev","stderr",null,i.stderr):a.symlink("/dev/tty1","/dev/stderr"),a.open("/dev/stdin","r"),a.open("/dev/stdout","w"),a.open("/dev/stderr","w")},ensureErrnoError:function(){a.ErrnoError||(a.ErrnoError=function(r,n){this.node=n,this.setErrno=function(t){this.errno=t},this.setErrno(r),this.message="FS error"},a.ErrnoError.prototype=new Error,a.ErrnoError.prototype.constructor=a.ErrnoError,[44].forEach(function(e){a.genericErrors[e]=new a.ErrnoError(e),a.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){a.ensureErrnoError(),a.nameTable=new Array(4096),a.mount(Y,{},"/"),a.createDefaultDirectories(),a.createDefaultDevices(),a.createSpecialDirectories(),a.filesystems={MEMFS:Y}},init:function(e,r,n){a.init.initialized=!0,a.ensureErrnoError(),i.stdin=e||i.stdin,i.stdout=r||i.stdout,i.stderr=n||i.stderr,a.createStandardStreams()},quit:function(){a.init.initialized=!1;var e=i._fflush;e&&e(0);for(var r=0;r<a.streams.length;r++){var n=a.streams[r];n&&a.close(n)}},getMode:function(e,r){var n=0;return e&&(n|=365),r&&(n|=146),n},joinPath:function(e,r){var n=X.join.apply(null,e);return r&&n[0]=="/"&&(n=n.substr(1)),n},absolutePath:function(e,r){return be.resolve(r,e)},standardizePath:function(e){return X.normalize(e)},findObject:function(e,r){var n=a.analyzePath(e,r);return n.exists?n.object:(Ve(n.error),null)},analyzePath:function(e,r){try{var n=a.lookupPath(e,{follow:!r});e=n.path}catch{}var t={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=a.lookupPath(e,{parent:!0});t.parentExists=!0,t.parentPath=n.path,t.parentObject=n.node,t.name=X.basename(e),n=a.lookupPath(e,{follow:!r}),t.exists=!0,t.path=n.path,t.object=n.node,t.name=n.node.name,t.isRoot=n.path==="/"}catch(o){t.error=o.errno}return t},createFolder:function(e,r,n,t){var o=X.join2(typeof e=="string"?e:a.getPath(e),r),l=a.getMode(n,t);return a.mkdir(o,l)},createPath:function(e,r,n,t){e=typeof e=="string"?e:a.getPath(e);for(var o=r.split("/").reverse();o.length;){var l=o.pop();if(l){var u=X.join2(e,l);try{a.mkdir(u)}catch{}e=u}}return u},createFile:function(e,r,n,t,o){var l=X.join2(typeof e=="string"?e:a.getPath(e),r),u=a.getMode(t,o);return a.create(l,u)},createDataFile:function(e,r,n,t,o,l){var u=r?X.join2(typeof e=="string"?e:a.getPath(e),r):e,s=a.getMode(t,o),f=a.create(u,s);if(n){if(typeof n=="string"){for(var c=new Array(n.length),d=0,p=n.length;d<p;++d)c[d]=n.charCodeAt(d);n=c}a.chmod(f,s|146);var h=a.open(f,"w");a.write(h,n,0,n.length,0,l),a.close(h),a.chmod(f,s)}return f},createDevice:function(e,r,n,t){var o=X.join2(typeof e=="string"?e:a.getPath(e),r),l=a.getMode(!!n,!!t);a.createDevice.major||(a.createDevice.major=64);var u=a.makedev(a.createDevice.major++,0);return a.registerDevice(u,{open:function(s){s.seekable=!1},close:function(s){t&&t.buffer&&t.buffer.length&&t(10)},read:function(s,f,c,d,p){for(var h=0,g=0;g<d;g++){var x;try{x=n()}catch{throw new a.ErrnoError(29)}if(x===void 0&&h===0)throw new a.ErrnoError(6);if(x==null)break;h++,f[c+g]=x}return h&&(s.node.timestamp=Date.now()),h},write:function(s,f,c,d,p){for(var h=0;h<d;h++)try{t(f[c+h])}catch{throw new a.ErrnoError(29)}return d&&(s.node.timestamp=Date.now()),h}}),a.mkdev(o,l,u)},createLink:function(e,r,n,t,o){var l=X.join2(typeof e=="string"?e:a.getPath(e),r);return a.symlink(n,l)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var r=!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(U)try{e.contents=$e(U(e.url),!0),e.usedBytes=e.contents.length}catch{r=!1}else throw new Error("Cannot load without read() or XMLHttpRequest.");return r||Ve(29),r},createLazyFile:function(e,r,n,t,o){function l(){this.lengthKnown=!1,this.chunks=[]}if(l.prototype.get=function(h){if(!(h>this.length-1||h<0)){var g=h%this.chunkSize,x=h/this.chunkSize|0;return this.getter(x)[g]}},l.prototype.setDataGetter=function(h){this.getter=h},l.prototype.cacheLength=function(){var h=new XMLHttpRequest;if(h.open("HEAD",n,!1),h.send(null),!(h.status>=200&&h.status<300||h.status===304))throw new Error("Couldn't load "+n+". Status: "+h.status);var g=Number(h.getResponseHeader("Content-length")),x,Z=(x=h.getResponseHeader("Accept-Ranges"))&&x==="bytes",se=(x=h.getResponseHeader("Content-Encoding"))&&x==="gzip",oe=1024*1024;Z||(oe=g);var _=function(Q,G){if(Q>G)throw new Error("invalid range ("+Q+", "+G+") or no bytes requested!");if(G>g-1)throw new Error("only "+g+" bytes available! programmer error!");var ee=new XMLHttpRequest;if(ee.open("GET",n,!1),g!==oe&&ee.setRequestHeader("Range","bytes="+Q+"-"+G),typeof Uint8Array<"u"&&(ee.responseType="arraybuffer"),ee.overrideMimeType&&ee.overrideMimeType("text/plain; charset=x-user-defined"),ee.send(null),!(ee.status>=200&&ee.status<300||ee.status===304))throw new Error("Couldn't load "+n+". Status: "+ee.status);return ee.response!==void 0?new Uint8Array(ee.response||[]):$e(ee.responseText||"",!0)},T=this;T.setDataGetter(function(Q){var G=Q*oe,ee=(Q+1)*oe-1;if(ee=Math.min(ee,g-1),typeof T.chunks[Q]>"u"&&(T.chunks[Q]=_(G,ee)),typeof T.chunks[Q]>"u")throw new Error("doXHR failed!");return T.chunks[Q]}),(se||!g)&&(oe=g=1,g=this.getter(0).length,oe=g,J("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=g,this._chunkSize=oe,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!N)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var u=new l;Object.defineProperties(u,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:u}}else var s={isDevice:!1,url:n};var f=a.createFile(e,r,s,t,o);s.contents?f.contents=s.contents:s.url&&(f.contents=null,f.url=s.url),Object.defineProperties(f,{usedBytes:{get:function(){return this.contents.length}}});var c={},d=Object.keys(f.stream_ops);return d.forEach(function(p){var h=f.stream_ops[p];c[p]=function(){if(!a.forceLoadFile(f))throw new a.ErrnoError(29);return h.apply(null,arguments)}}),c.read=function(h,g,x,Z,se){if(!a.forceLoadFile(f))throw new a.ErrnoError(29);var oe=h.node.contents;if(se>=oe.length)return 0;var _=Math.min(oe.length-se,Z);if(oe.slice)for(var T=0;T<_;T++)g[x+T]=oe[se+T];else for(var T=0;T<_;T++)g[x+T]=oe.get(se+T);return _},f.stream_ops=c,f},createPreloadedFile:function(e,r,n,t,o,l,u,s,f,c){Browser.init();var d=r?be.resolve(X.join2(e,r)):e;function p(h){function g(Z){c&&c(),s||a.createDataFile(e,r,Z,t,o,f),l&&l(),ur()}var x=!1;i.preloadPlugins.forEach(function(Z){x||Z.canHandle(d)&&(Z.handle(h,d,g,function(){u&&u(),ur()}),x=!0)}),x||g(h)}Ar(),typeof n=="string"?Browser.asyncLoad(n,function(h){p(h)},u):p(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,r,n){r=r||function(){},n=n||function(){};var t=a.indexedDB();try{var o=t.open(a.DB_NAME(),a.DB_VERSION)}catch(l){return n(l)}o.onupgradeneeded=function(){J("creating db");var u=o.result;u.createObjectStore(a.DB_STORE_NAME)},o.onsuccess=function(){var u=o.result,s=u.transaction([a.DB_STORE_NAME],"readwrite"),f=s.objectStore(a.DB_STORE_NAME),c=0,d=0,p=e.length;function h(){d==0?r():n()}e.forEach(function(g){var x=f.put(a.analyzePath(g).object.contents,g);x.onsuccess=function(){c++,c+d==p&&h()},x.onerror=function(){d++,c+d==p&&h()}}),s.onerror=n},o.onerror=n},loadFilesFromDB:function(e,r,n){r=r||function(){},n=n||function(){};var t=a.indexedDB();try{var o=t.open(a.DB_NAME(),a.DB_VERSION)}catch(l){return n(l)}o.onupgradeneeded=n,o.onsuccess=function(){var u=o.result;try{var s=u.transaction([a.DB_STORE_NAME],"readonly")}catch(g){n(g);return}var f=s.objectStore(a.DB_STORE_NAME),c=0,d=0,p=e.length;function h(){d==0?r():n()}e.forEach(function(g){var x=f.get(g);x.onsuccess=function(){a.analyzePath(g).exists&&a.unlink(g),a.createDataFile(X.dirname(g),X.basename(g),x.result,!0,!0,!0),c++,c+d==p&&h()},x.onerror=function(){d++,c+d==p&&h()}}),s.onerror=n},o.onerror=n}},ne={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(e,r){if(r[0]!=="/"){var n;if(e===-100)n=a.cwd();else{var t=a.getStream(e);if(!t)throw new a.ErrnoError(8);n=t.path}r=X.join2(n,r)}return r},doStat:function(e,r,n){try{var t=e(r)}catch(o){if(o&&o.node&&X.normalize(r)!==X.normalize(a.getPath(o.node)))return-54;throw o}return D[n>>2]=t.dev,D[n+4>>2]=0,D[n+8>>2]=t.ino,D[n+12>>2]=t.mode,D[n+16>>2]=t.nlink,D[n+20>>2]=t.uid,D[n+24>>2]=t.gid,D[n+28>>2]=t.rdev,D[n+32>>2]=0,Ce=[t.size>>>0,(le=t.size,+tr(le)>=1?le>0?(lr(+or(le/4294967296),4294967295)|0)>>>0:~~+ar((le-+(~~le>>>0))/4294967296)>>>0:0)],D[n+40>>2]=Ce[0],D[n+44>>2]=Ce[1],D[n+48>>2]=4096,D[n+52>>2]=t.blocks,D[n+56>>2]=t.atime.getTime()/1e3|0,D[n+60>>2]=0,D[n+64>>2]=t.mtime.getTime()/1e3|0,D[n+68>>2]=0,D[n+72>>2]=t.ctime.getTime()/1e3|0,D[n+76>>2]=0,Ce=[t.ino>>>0,(le=t.ino,+tr(le)>=1?le>0?(lr(+or(le/4294967296),4294967295)|0)>>>0:~~+ar((le-+(~~le>>>0))/4294967296)>>>0:0)],D[n+80>>2]=Ce[0],D[n+84>>2]=Ce[1],0},doMsync:function(e,r,n,t,o){var l=xe.slice(e,e+n);a.msync(r,l,o,n,t)},doMkdir:function(e,r){return e=X.normalize(e),e[e.length-1]==="/"&&(e=e.substr(0,e.length-1)),a.mkdir(e,r,0),0},doMknod:function(e,r,n){switch(r&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return a.mknod(e,r,n),0},doReadlink:function(e,r,n){if(n<=0)return-28;var t=a.readlink(e),o=Math.min(n,We(t)),l=we[r+o];return ir(t,r,n+1),we[r+o]=l,o},doAccess:function(e,r){if(r&-8)return-28;var n,t=a.lookupPath(e,{follow:!0});if(n=t.node,!n)return-44;var o="";return r&4&&(o+="r"),r&2&&(o+="w"),r&1&&(o+="x"),o&&a.nodePermissions(n,o)?-2:0},doDup:function(e,r,n){var t=a.getStream(n);return t&&a.close(t),a.open(e,r,0,n,n).fd},doReadv:function(e,r,n,t){for(var o=0,l=0;l<n;l++){var u=D[r+l*8>>2],s=D[r+(l*8+4)>>2],f=a.read(e,we,u,s,t);if(f<0)return-1;if(o+=f,f<s)break}return o},doWritev:function(e,r,n,t){for(var o=0,l=0;l<n;l++){var u=D[r+l*8>>2],s=D[r+(l*8+4)>>2],f=a.write(e,we,u,s,t);if(f<0)return-1;o+=f}return o},varargs:void 0,get:function(){ne.varargs+=4;var e=D[ne.varargs-4>>2];return e},getStr:function(e){var r=He(e);return r},getStreamFromFD:function(e){var r=a.getStream(e);if(!r)throw new a.ErrnoError(8);return r},get64:function(e,r){return e}};function Yi(e,r,n){ne.varargs=n;try{var t=ne.getStreamFromFD(e);switch(r){case 0:{var o=ne.get();if(o<0)return-28;var l;return l=a.open(t.path,t.flags,0,o),l.fd}case 1:case 2:return 0;case 3:return t.flags;case 4:{var o=ne.get();return t.flags|=o,0}case 12:{var o=ne.get(),u=0;return kr[o+u>>1]=2,0}case 13:case 14:return 0;case 16:case 8:return-28;case 9:return Ve(28),-1;default:return-28}}catch(s){return(typeof a>"u"||!(s instanceof a.ErrnoError))&&ue(s),-s.errno}}function Wi(e,r,n){ne.varargs=n;try{var t=ne.getStreamFromFD(e);switch(r){case 21509:case 21505:return t.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return t.tty?0:-59;case 21519:{if(!t.tty)return-59;var o=ne.get();return D[o>>2]=0,0}case 21520:return t.tty?-28:-59;case 21531:{var o=ne.get();return a.ioctl(t,r,o)}case 21523:return t.tty?0:-59;case 21524:return t.tty?0:-59;default:ue("bad ioctl syscall "+r)}}catch(l){return(typeof a>"u"||!(l instanceof a.ErrnoError))&&ue(l),-l.errno}}function Gi(e,r,n){ne.varargs=n;try{var t=ne.getStr(e),o=ne.get(),l=a.open(t,r,o);return l.fd}catch(u){return(typeof a>"u"||!(u instanceof a.ErrnoError))&&ue(u),-u.errno}}function Vi(e){try{return e=ne.getStr(e),a.rmdir(e),0}catch(r){return(typeof a>"u"||!(r instanceof a.ErrnoError))&&ue(r),-r.errno}}function qi(e,r){try{return e=ne.getStr(e),ne.doStat(a.stat,e,r)}catch(n){return(typeof a>"u"||!(n instanceof a.ErrnoError))&&ue(n),-n.errno}}function Xi(e){try{return e=ne.getStr(e),a.unlink(e),0}catch(r){return(typeof a>"u"||!(r instanceof a.ErrnoError))&&ue(r),-r.errno}}function Ki(e,r){throw S(e,r||1),"longjmp"}function Ji(e,r){Ki(e,r)}function Zi(e,r,n){xe.copyWithin(e,r,r+n)}function Qi(){return xe.length}function $i(e){try{return ce.grow(e-Re.byteLength+65535>>>16),Cr(ce.buffer),1}catch{}}function et(e){e=e>>>0;var r=Qi(),n=65536,t=2147483648;if(e>t)return!1;for(var o=16777216,l=1;l<=4;l*=2){var u=r*(1+.2/l);u=Math.min(u,e+100663296);var s=Math.min(t,Si(Math.max(o,e,u),n)),f=$i(s);if(f)return!0}return!1}var xr={};function rt(){return C||"./this.program"}function Ie(){if(!Ie.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:rt()};for(var r in xr)e[r]=xr[r];var n=[];for(var r in e)n.push(r+"="+e[r]);Ie.strings=n}return Ie.strings}function nt(e,r){var n=0;return Ie().forEach(function(t,o){var l=r+n;D[e+o*4>>2]=l,Di(t,l),n+=t.length+1}),0}function it(e,r){var n=Ie();D[e>>2]=n.length;var t=0;return n.forEach(function(o){t+=o.length+1}),D[r>>2]=t,0}function tt(e){Ia(e)}function at(e){try{var r=ne.getStreamFromFD(e);return a.close(r),0}catch(n){return(typeof a>"u"||!(n instanceof a.ErrnoError))&&ue(n),n.errno}}function ot(e,r,n,t){try{var o=ne.getStreamFromFD(e),l=ne.doReadv(o,r,n);return D[t>>2]=l,0}catch(u){return(typeof a>"u"||!(u instanceof a.ErrnoError))&&ue(u),u.errno}}function lt(e,r,n,t,o){try{var l=ne.getStreamFromFD(e),u=4294967296,s=n*u+(r>>>0),f=9007199254740992;return s<=-f||s>=f?-61:(a.llseek(l,s,t),Ce=[l.position>>>0,(le=l.position,+tr(le)>=1?le>0?(lr(+or(le/4294967296),4294967295)|0)>>>0:~~+ar((le-+(~~le>>>0))/4294967296)>>>0:0)],D[o>>2]=Ce[0],D[o+4>>2]=Ce[1],l.getdents&&s===0&&t===0&&(l.getdents=null),0)}catch(c){return(typeof a>"u"||!(c instanceof a.ErrnoError))&&ue(c),c.errno}}function ut(e,r,n,t){try{var o=ne.getStreamFromFD(e),l=ne.doWritev(o,r,n);return D[t>>2]=l,0}catch(u){return(typeof a>"u"||!(u instanceof a.ErrnoError))&&ue(u),u.errno}}function st(){return Se()|0}var ft=2120880,ct=(ir("GMT",2120928,4),2120928);function dt(e,r){var n=new Date(D[e>>2]*1e3);D[r>>2]=n.getUTCSeconds(),D[r+4>>2]=n.getUTCMinutes(),D[r+8>>2]=n.getUTCHours(),D[r+12>>2]=n.getUTCDate(),D[r+16>>2]=n.getUTCMonth(),D[r+20>>2]=n.getUTCFullYear()-1900,D[r+24>>2]=n.getUTCDay(),D[r+36>>2]=0,D[r+32>>2]=0;var t=Date.UTC(n.getUTCFullYear(),0,1,0,0,0,0),o=(n.getTime()-t)/(1e3*60*60*24)|0;return D[r+28>>2]=o,D[r+40>>2]=ct,r}function vt(e){return dt(e,ft)}function mt(e){re(e|0)}function qe(e){return e%4===0&&(e%100!==0||e%400===0)}function sr(e,r){for(var n=0,t=0;t<=r;n+=e[t++]);return n}var Xe=[31,29,31,30,31,30,31,31,30,31,30,31],Ke=[31,28,31,30,31,30,31,31,30,31,30,31];function Je(e,r){for(var n=new Date(e.getTime());r>0;){var t=qe(n.getFullYear()),o=n.getMonth(),l=(t?Xe:Ke)[o];if(r>l-n.getDate())r-=l-n.getDate()+1,n.setDate(1),o<11?n.setMonth(o+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1));else return n.setDate(n.getDate()+r),n}return n}function pt(e,r,n,t){var o=D[t+40>>2],l={tm_sec:D[t>>2],tm_min:D[t+4>>2],tm_hour:D[t+8>>2],tm_mday:D[t+12>>2],tm_mon:D[t+16>>2],tm_year:D[t+20>>2],tm_wday:D[t+24>>2],tm_yday:D[t+28>>2],tm_isdst:D[t+32>>2],tm_gmtoff:D[t+36>>2],tm_zone:o?He(o):""},u=He(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var f in s)u=u.replace(new RegExp(f,"g"),s[f]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=["January","February","March","April","May","June","July","August","September","October","November","December"];function p(_,T,Q){for(var G=typeof _=="number"?_.toString():_||"";G.length<T;)G=Q[0]+G;return G}function h(_,T){return p(_,T,"0")}function g(_,T){function Q(ee){return ee<0?-1:ee>0?1:0}var G;return(G=Q(_.getFullYear()-T.getFullYear()))===0&&(G=Q(_.getMonth()-T.getMonth()))===0&&(G=Q(_.getDate()-T.getDate())),G}function x(_){switch(_.getDay()){case 0:return new Date(_.getFullYear()-1,11,29);case 1:return _;case 2:return new Date(_.getFullYear(),0,3);case 3:return new Date(_.getFullYear(),0,2);case 4:return new Date(_.getFullYear(),0,1);case 5:return new Date(_.getFullYear()-1,11,31);case 6:return new Date(_.getFullYear()-1,11,30)}}function Z(_){var T=Je(new Date(_.tm_year+1900,0,1),_.tm_yday),Q=new Date(T.getFullYear(),0,4),G=new Date(T.getFullYear()+1,0,4),ee=x(Q),je=x(G);return g(ee,T)<=0?g(je,T)<=0?T.getFullYear()+1:T.getFullYear():T.getFullYear()-1}var se={"%a":function(_){return c[_.tm_wday].substring(0,3)},"%A":function(_){return c[_.tm_wday]},"%b":function(_){return d[_.tm_mon].substring(0,3)},"%B":function(_){return d[_.tm_mon]},"%C":function(_){var T=_.tm_year+1900;return h(T/100|0,2)},"%d":function(_){return h(_.tm_mday,2)},"%e":function(_){return p(_.tm_mday,2," ")},"%g":function(_){return Z(_).toString().substring(2)},"%G":function(_){return Z(_)},"%H":function(_){return h(_.tm_hour,2)},"%I":function(_){var T=_.tm_hour;return T==0?T=12:T>12&&(T-=12),h(T,2)},"%j":function(_){return h(_.tm_mday+sr(qe(_.tm_year+1900)?Xe:Ke,_.tm_mon-1),3)},"%m":function(_){return h(_.tm_mon+1,2)},"%M":function(_){return h(_.tm_min,2)},"%n":function(){return`
`},"%p":function(_){return _.tm_hour>=0&&_.tm_hour<12?"AM":"PM"},"%S":function(_){return h(_.tm_sec,2)},"%t":function(){return"	"},"%u":function(_){return _.tm_wday||7},"%U":function(_){var T=new Date(_.tm_year+1900,0,1),Q=T.getDay()===0?T:Je(T,7-T.getDay()),G=new Date(_.tm_year+1900,_.tm_mon,_.tm_mday);if(g(Q,G)<0){var ee=sr(qe(G.getFullYear())?Xe:Ke,G.getMonth()-1)-31,je=31-Q.getDate(),Te=je+ee+G.getDate();return h(Math.ceil(Te/7),2)}return g(Q,T)===0?"01":"00"},"%V":function(_){var T=new Date(_.tm_year+1900,0,4),Q=new Date(_.tm_year+1901,0,4),G=x(T),ee=x(Q),je=Je(new Date(_.tm_year+1900,0,1),_.tm_yday);if(g(je,G)<0)return"53";if(g(ee,je)<=0)return"01";var Te;return G.getFullYear()<_.tm_year+1900?Te=_.tm_yday+32-G.getDate():Te=_.tm_yday+1-G.getDate(),h(Math.ceil(Te/7),2)},"%w":function(_){return _.tm_wday},"%W":function(_){var T=new Date(_.tm_year,0,1),Q=T.getDay()===1?T:Je(T,T.getDay()===0?1:7-T.getDay()+1),G=new Date(_.tm_year+1900,_.tm_mon,_.tm_mday);if(g(Q,G)<0){var ee=sr(qe(G.getFullYear())?Xe:Ke,G.getMonth()-1)-31,je=31-Q.getDate(),Te=je+ee+G.getDate();return h(Math.ceil(Te/7),2)}return g(Q,T)===0?"01":"00"},"%y":function(_){return(_.tm_year+1900).toString().substring(2)},"%Y":function(_){return _.tm_year+1900},"%z":function(_){var T=_.tm_gmtoff,Q=T>=0;return T=Math.abs(T)/60,T=T/60*100+T%60,(Q?"+":"-")+String("0000"+T).slice(-4)},"%Z":function(_){return _.tm_zone},"%%":function(){return"%"}};for(var f in se)u.indexOf(f)>=0&&(u=u.replace(new RegExp(f,"g"),se[f](l)));var oe=$e(u,!1);return oe.length>r?0:(Er(oe,e),oe.length-1)}function yt(e){var r=Date.now()/1e3|0;return e&&(D[e>>2]=r),r}function fr(){if(fr.called)return;fr.called=!0,D[Lr()>>2]=new Date().getTimezoneOffset()*60;var e=new Date().getFullYear(),r=new Date(e,0,1),n=new Date(e,6,1);D[Ir()>>2]=Number(r.getTimezoneOffset()!=n.getTimezoneOffset());function t(f){var c=f.toTimeString().match(/\(([A-Za-z ]+)\)$/);return c?c[1]:"GMT"}var o=t(r),l=t(n),u=wr(o),s=wr(l);n.getTimezoneOffset()<r.getTimezoneOffset()?(D[Le()>>2]=u,D[Le()+4>>2]=s):(D[Le()>>2]=s,D[Le()+4>>2]=u)}function _t(e){fr();var r=Date.UTC(D[e+20>>2]+1900,D[e+16>>2],D[e+12>>2],D[e+8>>2],D[e+4>>2],D[e>>2],0),n=new Date(r);D[e+24>>2]=n.getUTCDay();var t=Date.UTC(n.getUTCFullYear(),0,1,0,0,0,0),o=(n.getTime()-t)/(1e3*60*60*24)|0;return D[e+28>>2]=o,n.getTime()/1e3|0}var Nr=function(e,r,n,t){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=a.nextInode++,this.name=r,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=t},Ze=365,Qe=146;Object.defineProperties(Nr.prototype,{read:{get:function(){return(this.mode&Ze)===Ze},set:function(e){e?this.mode|=Ze:this.mode&=~Ze}},write:{get:function(){return(this.mode&Qe)===Qe},set:function(e){e?this.mode|=Qe:this.mode&=~Qe}},isFolder:{get:function(){return a.isDir(this.mode)}},isDevice:{get:function(){return a.isChrdev(this.mode)}}}),a.FSNode=Nr,a.staticInit();function $e(e,r,n){var t=n>0?n:We(e)+1,o=new Array(t),l=Ye(e,o,0,o.length);return r&&(o.length=l),o}var gt={R:Yi,Aa:Wi,Da:Gi,Ba:Vi,Ea:qi,Ca:Xi,c:Ji,va:Zi,wa:et,xa:nt,ya:it,da:tt,S:at,za:ot,ia:lt,Q:ut,a:st,ca:vt,v:ea,p:oa,Ga:_a,E:na,O:Kt,i:wt,ba:ta,f:Et,Oa:jt,P:Ut,ea:qt,e:ht,Ja:aa,X:ga,k:At,Fa:Ca,K:Ea,ga:Lt,V:ba,fa:Ht,m:Pt,o:Mt,Ha:ya,s:St,y:zt,L:Jt,J:Tt,N:Qt,Na:Zt,sa:Pa,ra:Aa,ja:Ba,ka:Oa,ta:ja,pa:Ta,oa:Fa,la:Na,j:kt,d:bt,w:ia,x:Gt,r:Vt,_:ca,A:la,F:ua,T:Da,$:fa,Y:pa,h:Ct,Ia:ma,aa:sa,W:ha,g:Dt,Z:va,t:da,D:Ot,l:Rt,U:ka,n:Ft,I:Nt,q:Bt,C:It,z:xt,M:wa,u:Xt,G:Wt,H:Yt,Ma:ra,B:$t,ma:xa,qa:Ma,na:Ra,ua:Sa,memory:ce,b:mt,La:pt,table:ze,ha:yt,Ka:_t};Li();var Or=i.___wasm_call_ctors=function(){return(Or=i.___wasm_call_ctors=i.asm.Pa).apply(null,arguments)};i._initContext=function(){return(i._initContext=i.asm.Qa).apply(null,arguments)},i._openDocument=function(){return(i._openDocument=i.asm.Ra).apply(null,arguments)},i._freeDocument=function(){return(i._freeDocument=i.asm.Sa).apply(null,arguments)},i._countPages=function(){return(i._countPages=i.asm.Ta).apply(null,arguments)},i._drawPageAsHTML=function(){return(i._drawPageAsHTML=i.asm.Ua).apply(null,arguments)},i._drawPageAsSVG=function(){return(i._drawPageAsSVG=i.asm.Va).apply(null,arguments)},i._drawPageAsPNG=function(){return(i._drawPageAsPNG=i.asm.Wa).apply(null,arguments)},i._pageWidth=function(){return(i._pageWidth=i.asm.Xa).apply(null,arguments)},i._pageHeight=function(){return(i._pageHeight=i.asm.Ya).apply(null,arguments)},i._pageLinks=function(){return(i._pageLinks=i.asm.Za).apply(null,arguments)},i._documentTitle=function(){return(i._documentTitle=i.asm._a).apply(null,arguments)},i._loadOutline=function(){return(i._loadOutline=i.asm.$a).apply(null,arguments)},i._freeOutline=function(){return(i._freeOutline=i.asm.ab).apply(null,arguments)},i._outlineTitle=function(){return(i._outlineTitle=i.asm.bb).apply(null,arguments)},i._outlinePage=function(){return(i._outlinePage=i.asm.cb).apply(null,arguments)},i._outlineDown=function(){return(i._outlineDown=i.asm.db).apply(null,arguments)},i._outlineNext=function(){return(i._outlineNext=i.asm.eb).apply(null,arguments)},i._getPageText=function(){return(i._getPageText=i.asm.fb).apply(null,arguments)};var cr=i._malloc=function(){return(cr=i._malloc=i.asm.gb).apply(null,arguments)};i._searchPageText=function(){return(i._searchPageText=i.asm.hb).apply(null,arguments)};var Br=i.___errno_location=function(){return(Br=i.___errno_location=i.asm.ib).apply(null,arguments)},Le=i.__get_tzname=function(){return(Le=i.__get_tzname=i.asm.jb).apply(null,arguments)},Ir=i.__get_daylight=function(){return(Ir=i.__get_daylight=i.asm.kb).apply(null,arguments)},Lr=i.__get_timezone=function(){return(Lr=i.__get_timezone=i.asm.lb).apply(null,arguments)},S=i._setThrew=function(){return(S=i._setThrew=i.asm.mb).apply(null,arguments)},j=i.stackSave=function(){return(j=i.stackSave=i.asm.nb).apply(null,arguments)},P=i.stackRestore=function(){return(P=i.stackRestore=i.asm.ob).apply(null,arguments)},dr=i.stackAlloc=function(){return(dr=i.stackAlloc=i.asm.pb).apply(null,arguments)};i.dynCall_v=function(){return(i.dynCall_v=i.asm.qb).apply(null,arguments)};var zr=i.dynCall_vi=function(){return(zr=i.dynCall_vi=i.asm.rb).apply(null,arguments)},Ur=i.dynCall_vii=function(){return(Ur=i.dynCall_vii=i.asm.sb).apply(null,arguments)},Hr=i.dynCall_viii=function(){return(Hr=i.dynCall_viii=i.asm.tb).apply(null,arguments)},Yr=i.dynCall_viiii=function(){return(Yr=i.dynCall_viiii=i.asm.ub).apply(null,arguments)},Wr=i.dynCall_viiiii=function(){return(Wr=i.dynCall_viiiii=i.asm.vb).apply(null,arguments)},Gr=i.dynCall_viiiiii=function(){return(Gr=i.dynCall_viiiiii=i.asm.wb).apply(null,arguments)},Vr=i.dynCall_viiiiiii=function(){return(Vr=i.dynCall_viiiiiii=i.asm.xb).apply(null,arguments)},qr=i.dynCall_viiiiiiii=function(){return(qr=i.dynCall_viiiiiiii=i.asm.yb).apply(null,arguments)},Xr=i.dynCall_viiiiiiiii=function(){return(Xr=i.dynCall_viiiiiiiii=i.asm.zb).apply(null,arguments)},Kr=i.dynCall_viiiiiiiiii=function(){return(Kr=i.dynCall_viiiiiiiiii=i.asm.Ab).apply(null,arguments)},Jr=i.dynCall_viiiiiiiiiii=function(){return(Jr=i.dynCall_viiiiiiiiiii=i.asm.Bb).apply(null,arguments)},Zr=i.dynCall_viiiiiiiiiiiii=function(){return(Zr=i.dynCall_viiiiiiiiiiiii=i.asm.Cb).apply(null,arguments)},Qr=i.dynCall_viiiiiiif=function(){return(Qr=i.dynCall_viiiiiiif=i.asm.Db).apply(null,arguments)},$r=i.dynCall_viiiiiiifi=function(){return($r=i.dynCall_viiiiiiifi=i.asm.Eb).apply(null,arguments)},en=i.dynCall_viiiiiiifiiifffffiii=function(){return(en=i.dynCall_viiiiiiifiiifffffiii=i.asm.Fb).apply(null,arguments)},rn=i.dynCall_viiiiiifi=function(){return(rn=i.dynCall_viiiiiifi=i.asm.Gb).apply(null,arguments)},nn=i.dynCall_viiiiifii=function(){return(nn=i.dynCall_viiiiifii=i.asm.Hb).apply(null,arguments)},tn=i.dynCall_viiiif=function(){return(tn=i.dynCall_viiiif=i.asm.Ib).apply(null,arguments)},an=i.dynCall_viiiifi=function(){return(an=i.dynCall_viiiifi=i.asm.Jb).apply(null,arguments)},on=i.dynCall_viiiiff=function(){return(on=i.dynCall_viiiiff=i.asm.Kb).apply(null,arguments)},ln=i.dynCall_viiij=function(){return(ln=i.dynCall_viiij=i.asm.Lb).apply(null,arguments)},un=i.dynCall_viiif=function(){return(un=i.dynCall_viiif=i.asm.Mb).apply(null,arguments)},sn=i.dynCall_viiifffffiii=function(){return(sn=i.dynCall_viiifffffiii=i.asm.Nb).apply(null,arguments)},fn=i.dynCall_viiid=function(){return(fn=i.dynCall_viiid=i.asm.Ob).apply(null,arguments)},cn=i.dynCall_viij=function(){return(cn=i.dynCall_viij=i.asm.Pb).apply(null,arguments)},dn=i.dynCall_viiji=function(){return(dn=i.dynCall_viiji=i.asm.Qb).apply(null,arguments)},vn=i.dynCall_viif=function(){return(vn=i.dynCall_viif=i.asm.Rb).apply(null,arguments)},mn=i.dynCall_viifi=function(){return(mn=i.dynCall_viifi=i.asm.Sb).apply(null,arguments)},pn=i.dynCall_viiff=function(){return(pn=i.dynCall_viiff=i.asm.Tb).apply(null,arguments)},yn=i.dynCall_viiffii=function(){return(yn=i.dynCall_viiffii=i.asm.Ub).apply(null,arguments)},_n=i.dynCall_viifff=function(){return(_n=i.dynCall_viifff=i.asm.Vb).apply(null,arguments)},gn=i.dynCall_viifffiiff=function(){return(gn=i.dynCall_viifffiiff=i.asm.Wb).apply(null,arguments)},hn=i.dynCall_viiffff=function(){return(hn=i.dynCall_viiffff=i.asm.Xb).apply(null,arguments)},wn=i.dynCall_viiffffff=function(){return(wn=i.dynCall_viiffffff=i.asm.Yb).apply(null,arguments)},En=i.dynCall_viid=function(){return(En=i.dynCall_viid=i.asm.Zb).apply(null,arguments)},bn=i.dynCall_vij=function(){return(bn=i.dynCall_vij=i.asm._b).apply(null,arguments)},kn=i.dynCall_ii=function(){return(kn=i.dynCall_ii=i.asm.$b).apply(null,arguments)},Cn=i.dynCall_iii=function(){return(Cn=i.dynCall_iii=i.asm.ac).apply(null,arguments)},Dn=i.dynCall_iiii=function(){return(Dn=i.dynCall_iiii=i.asm.bc).apply(null,arguments)},Sn=i.dynCall_iiiii=function(){return(Sn=i.dynCall_iiiii=i.asm.cc).apply(null,arguments)},jn=i.dynCall_iiiiii=function(){return(jn=i.dynCall_iiiiii=i.asm.dc).apply(null,arguments)},Pn=i.dynCall_iiiiiii=function(){return(Pn=i.dynCall_iiiiiii=i.asm.ec).apply(null,arguments)},An=i.dynCall_iiiiiiii=function(){return(An=i.dynCall_iiiiiiii=i.asm.fc).apply(null,arguments)},Mn=i.dynCall_iiiiiiiii=function(){return(Mn=i.dynCall_iiiiiiiii=i.asm.gc).apply(null,arguments)},Tn=i.dynCall_iiiiiiiiii=function(){return(Tn=i.dynCall_iiiiiiiiii=i.asm.hc).apply(null,arguments)},Fn=i.dynCall_iiiiiiiiiii=function(){return(Fn=i.dynCall_iiiiiiiiiii=i.asm.ic).apply(null,arguments)},Rn=i.dynCall_iiiiiiiiiiiiii=function(){return(Rn=i.dynCall_iiiiiiiiiiiiii=i.asm.jc).apply(null,arguments)},xn=i.dynCall_iiiiiiiiiiiiiiiii=function(){return(xn=i.dynCall_iiiiiiiiiiiiiiiii=i.asm.kc).apply(null,arguments)},Nn=i.dynCall_iiiiiiiij=function(){return(Nn=i.dynCall_iiiiiiiij=i.asm.lc).apply(null,arguments)},On=i.dynCall_iiiiiiifi=function(){return(On=i.dynCall_iiiiiiifi=i.asm.mc).apply(null,arguments)},Bn=i.dynCall_iiiiiiji=function(){return(Bn=i.dynCall_iiiiiiji=i.asm.nc).apply(null,arguments)},In=i.dynCall_iiiiij=function(){return(In=i.dynCall_iiiiij=i.asm.oc).apply(null,arguments)},Ln=i.dynCall_iiiiifiiii=function(){return(Ln=i.dynCall_iiiiifiiii=i.asm.pc).apply(null,arguments)},zn=i.dynCall_iiiiiffi=function(){return(zn=i.dynCall_iiiiiffi=i.asm.qc).apply(null,arguments)},Un=i.dynCall_iiiiiffii=function(){return(Un=i.dynCall_iiiiiffii=i.asm.rc).apply(null,arguments)},Hn=i.dynCall_iiiiiffiifiii=function(){return(Hn=i.dynCall_iiiiiffiifiii=i.asm.sc).apply(null,arguments)},Yn=i.dynCall_iiiiifffiiii=function(){return(Yn=i.dynCall_iiiiifffiiii=i.asm.tc).apply(null,arguments)},Wn=i.dynCall_iiiif=function(){return(Wn=i.dynCall_iiiif=i.asm.uc).apply(null,arguments)},Gn=i.dynCall_iiiifi=function(){return(Gn=i.dynCall_iiiifi=i.asm.vc).apply(null,arguments)},Vn=i.dynCall_iiij=function(){return(Vn=i.dynCall_iiij=i.asm.wc).apply(null,arguments)},qn=i.dynCall_iiijj=function(){return(qn=i.dynCall_iiijj=i.asm.xc).apply(null,arguments)},Xn=i.dynCall_iiiffiiiiiii=function(){return(Xn=i.dynCall_iiiffiiiiiii=i.asm.yc).apply(null,arguments)},Kn=i.dynCall_iiiffffiii=function(){return(Kn=i.dynCall_iiiffffiii=i.asm.zc).apply(null,arguments)},Jn=i.dynCall_iiidi=function(){return(Jn=i.dynCall_iiidi=i.asm.Ac).apply(null,arguments)},Zn=i.dynCall_iij=function(){return(Zn=i.dynCall_iij=i.asm.Bc).apply(null,arguments)},Qn=i.dynCall_iif=function(){return(Qn=i.dynCall_iif=i.asm.Cc).apply(null,arguments)},$n=i.dynCall_jii=function(){return($n=i.dynCall_jii=i.asm.Dc).apply(null,arguments)},ei=i.dynCall_jiij=function(){return(ei=i.dynCall_jiij=i.asm.Ec).apply(null,arguments)},ri=i.dynCall_fii=function(){return(ri=i.dynCall_fii=i.asm.Fc).apply(null,arguments)},ni=i.dynCall_fiii=function(){return(ni=i.dynCall_fiii=i.asm.Gc).apply(null,arguments)},ii=i.dynCall_fiiii=function(){return(ii=i.dynCall_fiiii=i.asm.Hc).apply(null,arguments)},ti=i.dynCall_fiiiii=function(){return(ti=i.dynCall_fiiiii=i.asm.Ic).apply(null,arguments)},ai=i.dynCall_fiiifiif=function(){return(ai=i.dynCall_fiiifiif=i.asm.Jc).apply(null,arguments)};function ht(e,r,n,t){var o=j();try{return Dn(e,r,n,t)}catch(l){if(P(o),l!==l+0&&l!=="longjmp")throw l;S(1,0)}}function wt(e,r){var n=j();try{return kn(e,r)}catch(t){if(P(n),t!==t+0&&t!=="longjmp")throw t;S(1,0)}}function Et(e,r,n){var t=j();try{return Cn(e,r,n)}catch(o){if(P(t),o!==o+0&&o!=="longjmp")throw o;S(1,0)}}function bt(e,r,n){var t=j();try{Ur(e,r,n)}catch(o){if(P(t),o!==o+0&&o!=="longjmp")throw o;S(1,0)}}function kt(e,r){var n=j();try{zr(e,r)}catch(t){if(P(n),t!==t+0&&t!=="longjmp")throw t;S(1,0)}}function Ct(e,r,n,t){var o=j();try{Hr(e,r,n,t)}catch(l){if(P(o),l!==l+0&&l!=="longjmp")throw l;S(1,0)}}function Dt(e,r,n,t,o){var l=j();try{Yr(e,r,n,t,o)}catch(u){if(P(l),u!==u+0&&u!=="longjmp")throw u;S(1,0)}}function St(e,r,n,t,o,l,u,s){var f=j();try{return An(e,r,n,t,o,l,u,s)}catch(c){if(P(f),c!==c+0&&c!=="longjmp")throw c;S(1,0)}}function jt(e,r,n,t,o){var l=j();try{return Jn(e,r,n,t,o)}catch(u){if(P(l),u!==u+0&&u!=="longjmp")throw u;S(1,0)}}function Pt(e,r,n,t,o,l){var u=j();try{return jn(e,r,n,t,o,l)}catch(s){if(P(u),s!==s+0&&s!=="longjmp")throw s;S(1,0)}}function At(e,r,n,t,o){var l=j();try{return Sn(e,r,n,t,o)}catch(u){if(P(l),u!==u+0&&u!=="longjmp")throw u;S(1,0)}}function Mt(e,r,n,t,o,l,u){var s=j();try{return Pn(e,r,n,t,o,l,u)}catch(f){if(P(s),f!==f+0&&f!=="longjmp")throw f;S(1,0)}}function Tt(e,r,n,t,o,l,u,s,f,c,d){var p=j();try{return Fn(e,r,n,t,o,l,u,s,f,c,d)}catch(h){if(P(p),h!==h+0&&h!=="longjmp")throw h;S(1,0)}}function Ft(e,r,n,t,o,l,u){var s=j();try{Gr(e,r,n,t,o,l,u)}catch(f){if(P(s),f!==f+0&&f!=="longjmp")throw f;S(1,0)}}function Rt(e,r,n,t,o,l){var u=j();try{Wr(e,r,n,t,o,l)}catch(s){if(P(u),s!==s+0&&s!=="longjmp")throw s;S(1,0)}}function xt(e,r,n,t,o,l,u,s,f,c){var d=j();try{$r(e,r,n,t,o,l,u,s,f,c)}catch(p){if(P(d),p!==p+0&&p!=="longjmp")throw p;S(1,0)}}function Nt(e,r,n,t,o,l,u,s,f){var c=j();try{rn(e,r,n,t,o,l,u,s,f)}catch(d){if(P(c),d!==d+0&&d!=="longjmp")throw d;S(1,0)}}function Ot(e,r,n,t,o,l,u){var s=j();try{an(e,r,n,t,o,l,u)}catch(f){if(P(s),f!==f+0&&f!=="longjmp")throw f;S(1,0)}}function Bt(e,r,n,t,o,l,u,s){var f=j();try{Vr(e,r,n,t,o,l,u,s)}catch(c){if(P(f),c!==c+0&&c!=="longjmp")throw c;S(1,0)}}function It(e,r,n,t,o,l,u,s,f){var c=j();try{Qr(e,r,n,t,o,l,u,s,f)}catch(d){if(P(c),d!==d+0&&d!=="longjmp")throw d;S(1,0)}}function Lt(e,r,n,t,o,l,u,s,f){var c=j();try{return Un(e,r,n,t,o,l,u,s,f)}catch(d){if(P(c),d!==d+0&&d!=="longjmp")throw d;S(1,0)}}function zt(e,r,n,t,o,l,u,s,f){var c=j();try{return Mn(e,r,n,t,o,l,u,s,f)}catch(d){if(P(c),d!==d+0&&d!=="longjmp")throw d;S(1,0)}}function Ut(e,r,n,t,o,l,u,s,f,c){var d=j();try{return Kn(e,r,n,t,o,l,u,s,f,c)}catch(p){if(P(d),p!==p+0&&p!=="longjmp")throw p;S(1,0)}}function Ht(e,r,n,t,o,l,u,s,f,c){var d=j();try{return Ln(e,r,n,t,o,l,u,s,f,c)}catch(p){if(P(d),p!==p+0&&p!=="longjmp")throw p;S(1,0)}}function Yt(e,r,n,t,o,l,u,s,f,c,d){var p=j();try{Kr(e,r,n,t,o,l,u,s,f,c,d)}catch(h){if(P(p),h!==h+0&&h!=="longjmp")throw h;S(1,0)}}function Wt(e,r,n,t,o,l,u,s,f,c){var d=j();try{Xr(e,r,n,t,o,l,u,s,f,c)}catch(p){if(P(d),p!==p+0&&p!=="longjmp")throw p;S(1,0)}}function Gt(e,r,n,t){var o=j();try{vn(e,r,n,t)}catch(l){if(P(o),l!==l+0&&l!=="longjmp")throw l;S(1,0)}}function Vt(e,r,n,t,o){var l=j();try{pn(e,r,n,t,o)}catch(u){if(P(l),u!==u+0&&u!=="longjmp")throw u;S(1,0)}}function qt(e,r,n,t,o,l,u,s,f,c,d,p){var h=j();try{return Xn(e,r,n,t,o,l,u,s,f,c,d,p)}catch(g){if(P(h),g!==g+0&&g!=="longjmp")throw g;S(1,0)}}function Xt(e,r,n,t,o,l,u,s,f){var c=j();try{qr(e,r,n,t,o,l,u,s,f)}catch(d){if(P(c),d!==d+0&&d!=="longjmp")throw d;S(1,0)}}function Kt(e,r,n,t,o,l){var u=j();try{return ti(e,r,n,t,o,l)}catch(s){if(P(u),s!==s+0&&s!=="longjmp")throw s;S(1,0)}}function Jt(e,r,n,t,o,l,u,s,f,c){var d=j();try{return Tn(e,r,n,t,o,l,u,s,f,c)}catch(p){if(P(d),p!==p+0&&p!=="longjmp")throw p;S(1,0)}}function Zt(e,r,n,t,o,l,u,s,f,c,d,p,h,g,x,Z,se){var oe=j();try{return xn(e,r,n,t,o,l,u,s,f,c,d,p,h,g,x,Z,se)}catch(_){if(P(oe),_!==_+0&&_!=="longjmp")throw _;S(1,0)}}function Qt(e,r,n,t,o,l,u,s,f,c,d,p,h,g){var x=j();try{return Rn(e,r,n,t,o,l,u,s,f,c,d,p,h,g)}catch(Z){if(P(x),Z!==Z+0&&Z!=="longjmp")throw Z;S(1,0)}}function $t(e,r,n,t,o,l,u,s,f,c,d,p,h,g){var x=j();try{Zr(e,r,n,t,o,l,u,s,f,c,d,p,h,g)}catch(Z){if(P(x),Z!==Z+0&&Z!=="longjmp")throw Z;S(1,0)}}function ea(e,r,n){var t=j();try{return ri(e,r,n)}catch(o){if(P(t),o!==o+0&&o!=="longjmp")throw o;S(1,0)}}function ra(e,r,n,t,o,l,u,s,f,c,d,p){var h=j();try{Jr(e,r,n,t,o,l,u,s,f,c,d,p)}catch(g){if(P(h),g!==g+0&&g!=="longjmp")throw g;S(1,0)}}function na(e,r,n,t,o){var l=j();try{return ii(e,r,n,t,o)}catch(u){if(P(l),u!==u+0&&u!=="longjmp")throw u;S(1,0)}}function ia(e,r,n,t){var o=j();try{En(e,r,n,t)}catch(l){if(P(o),l!==l+0&&l!=="longjmp")throw l;S(1,0)}}function ta(e,r,n){var t=j();try{return Qn(e,r,n)}catch(o){if(P(t),o!==o+0&&o!=="longjmp")throw o;S(1,0)}}function aa(e,r,n,t,o){var l=j();try{return Wn(e,r,n,t,o)}catch(u){if(P(l),u!==u+0&&u!=="longjmp")throw u;S(1,0)}}function oa(e,r,n,t){var o=j();try{return ni(e,r,n,t)}catch(l){if(P(o),l!==l+0&&l!=="longjmp")throw l;S(1,0)}}function la(e,r,n,t,o,l,u){var s=j();try{hn(e,r,n,t,o,l,u)}catch(f){if(P(s),f!==f+0&&f!=="longjmp")throw f;S(1,0)}}function ua(e,r,n,t,o,l,u,s,f){var c=j();try{wn(e,r,n,t,o,l,u,s,f)}catch(d){if(P(c),d!==d+0&&d!=="longjmp")throw d;S(1,0)}}function sa(e,r,n,t,o){var l=j();try{un(e,r,n,t,o)}catch(u){if(P(l),u!==u+0&&u!=="longjmp")throw u;S(1,0)}}function fa(e,r,n,t,o,l,u){var s=j();try{yn(e,r,n,t,o,l,u)}catch(f){if(P(s),f!==f+0&&f!=="longjmp")throw f;S(1,0)}}function ca(e,r,n,t,o,l){var u=j();try{_n(e,r,n,t,o,l)}catch(s){if(P(u),s!==s+0&&s!=="longjmp")throw s;S(1,0)}}function da(e,r,n,t,o,l,u){var s=j();try{on(e,r,n,t,o,l,u)}catch(f){if(P(s),f!==f+0&&f!=="longjmp")throw f;S(1,0)}}function va(e,r,n,t,o,l){var u=j();try{tn(e,r,n,t,o,l)}catch(s){if(P(u),s!==s+0&&s!=="longjmp")throw s;S(1,0)}}function ma(e,r,n,t,o){var l=j();try{fn(e,r,n,t,o)}catch(u){if(P(l),u!==u+0&&u!=="longjmp")throw u;S(1,0)}}function pa(e,r,n,t,o){var l=j();try{mn(e,r,n,t,o)}catch(u){if(P(l),u!==u+0&&u!=="longjmp")throw u;S(1,0)}}function ya(e,r,n,t,o,l,u,s,f){var c=j();try{return On(e,r,n,t,o,l,u,s,f)}catch(d){if(P(c),d!==d+0&&d!=="longjmp")throw d;S(1,0)}}function _a(e,r,n,t,o,l,u,s){var f=j();try{return ai(e,r,n,t,o,l,u,s)}catch(c){if(P(f),c!==c+0&&c!=="longjmp")throw c;S(1,0)}}function ga(e,r,n,t,o,l){var u=j();try{return Gn(e,r,n,t,o,l)}catch(s){if(P(u),s!==s+0&&s!=="longjmp")throw s;S(1,0)}}function ha(e,r,n,t,o,l,u,s,f,c,d,p){var h=j();try{sn(e,r,n,t,o,l,u,s,f,c,d,p)}catch(g){if(P(h),g!==g+0&&g!=="longjmp")throw g;S(1,0)}}function wa(e,r,n,t,o,l,u,s,f,c,d,p,h,g,x,Z,se,oe,_,T){var Q=j();try{en(e,r,n,t,o,l,u,s,f,c,d,p,h,g,x,Z,se,oe,_,T)}catch(G){if(P(Q),G!==G+0&&G!=="longjmp")throw G;S(1,0)}}function Ea(e,r,n,t,o,l,u,s){var f=j();try{return zn(e,r,n,t,o,l,u,s)}catch(c){if(P(f),c!==c+0&&c!=="longjmp")throw c;S(1,0)}}function ba(e,r,n,t,o,l,u,s,f,c,d,p,h){var g=j();try{return Hn(e,r,n,t,o,l,u,s,f,c,d,p,h)}catch(x){if(P(g),x!==x+0&&x!=="longjmp")throw x;S(1,0)}}function ka(e,r,n,t,o,l,u,s,f){var c=j();try{nn(e,r,n,t,o,l,u,s,f)}catch(d){if(P(c),d!==d+0&&d!=="longjmp")throw d;S(1,0)}}function Ca(e,r,n,t,o,l,u,s,f,c,d,p){var h=j();try{return Yn(e,r,n,t,o,l,u,s,f,c,d,p)}catch(g){if(P(h),g!==g+0&&g!=="longjmp")throw g;S(1,0)}}function Da(e,r,n,t,o,l,u,s,f,c){var d=j();try{gn(e,r,n,t,o,l,u,s,f,c)}catch(p){if(P(d),p!==p+0&&p!=="longjmp")throw p;S(1,0)}}function Sa(e,r,n,t){var o=j();try{bn(e,r,n,t)}catch(l){if(P(o),l!==l+0&&l!=="longjmp")throw l;S(1,0)}}function ja(e,r,n,t,o,l,u){var s=j();try{return qn(e,r,n,t,o,l,u)}catch(f){if(P(s),f!==f+0&&f!=="longjmp")throw f;S(1,0)}}function Pa(e,r,n,t,o,l,u,s,f,c){var d=j();try{return Nn(e,r,n,t,o,l,u,s,f,c)}catch(p){if(P(d),p!==p+0&&p!=="longjmp")throw p;S(1,0)}}function Aa(e,r,n,t,o,l,u,s,f){var c=j();try{return Bn(e,r,n,t,o,l,u,s,f)}catch(d){if(P(c),d!==d+0&&d!=="longjmp")throw d;S(1,0)}}function Ma(e,r,n,t,o){var l=j();try{cn(e,r,n,t,o)}catch(u){if(P(l),u!==u+0&&u!=="longjmp")throw u;S(1,0)}}function Ta(e,r,n,t){var o=j();try{return Zn(e,r,n,t)}catch(l){if(P(o),l!==l+0&&l!=="longjmp")throw l;S(1,0)}}function Fa(e,r,n){var t=j();try{return $n(e,r,n)}catch(o){if(P(t),o!==o+0&&o!=="longjmp")throw o;S(1,0)}}function Ra(e,r,n,t,o,l){var u=j();try{dn(e,r,n,t,o,l)}catch(s){if(P(u),s!==s+0&&s!=="longjmp")throw s;S(1,0)}}function xa(e,r,n,t,o,l){var u=j();try{ln(e,r,n,t,o,l)}catch(s){if(P(u),s!==s+0&&s!=="longjmp")throw s;S(1,0)}}function Na(e,r,n,t,o){var l=j();try{return ei(e,r,n,t,o)}catch(u){if(P(l),u!==u+0&&u!=="longjmp")throw u;S(1,0)}}function Oa(e,r,n,t,o){var l=j();try{return Vn(e,r,n,t,o)}catch(u){if(P(l),u!==u+0&&u!=="longjmp")throw u;S(1,0)}}function Ba(e,r,n,t,o,l,u){var s=j();try{return In(e,r,n,t,o,l,u)}catch(f){if(P(s),f!==f+0&&f!=="longjmp")throw f;S(1,0)}}i.ccall=gr,i.cwrap=Ci,i.FS=a;var er;function oi(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}Be=function e(){er||vr(),er||(Be=e)};function vr(e){if(Ae>0||(Mi(),Ae>0))return;function r(){er||(er=!0,i.calledRun=!0,!Oe&&(Ti(),Fi(),F(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),Ri()))}i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),r()},1)):r()}i.run=vr;function Ia(e,r){r&&he&&e===0||(he||(Oe=!0,i.onExit&&i.onExit(e)),M(e,new oi(e)))}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return he=!0,vr(),v.ready}}();b.exports=m})($a);var yr=Pe&&Pe.__assign||function(){return yr=Object.assign||function(b){for(var y,m=1,E=arguments.length;m<E;m++){y=arguments[m];for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&(b[v]=y[v])}return b},yr.apply(this,arguments)},no=Pe&&Pe.__awaiter||function(b,y,m,E){function v(i){return i instanceof m?i:new m(function(F){F(i)})}return new(m||(m=Promise))(function(i,F){function k(M){try{C(E.next(M))}catch(I){F(I)}}function A(M){try{C(E.throw(M))}catch(I){F(I)}}function C(M){M.done?i(M.value):v(M.value).then(k,A)}C((E=E.apply(b,y||[])).next())})},io=Pe&&Pe.__generator||function(b,y){var m={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},E,v,i,F;return F={next:k(0),throw:k(1),return:k(2)},typeof Symbol=="function"&&(F[Symbol.iterator]=function(){return this}),F;function k(C){return function(M){return A([C,M])}}function A(C){if(E)throw new TypeError("Generator is already executing.");for(;m;)try{if(E=1,v&&(i=C[0]&2?v.return:C[0]?v.throw||((i=v.return)&&i.call(v),0):v.next)&&!(i=i.call(v,C[1])).done)return i;switch(v=0,i&&(C=[C[0]&2,i.value]),C[0]){case 0:case 1:i=C;break;case 4:return m.label++,{value:C[1],done:!1};case 5:m.label++,v=C[1],C=[0];continue;case 7:C=m.ops.pop(),m.trys.pop();continue;default:if(i=m.trys,!(i=i.length>0&&i[i.length-1])&&(C[0]===6||C[0]===2)){m=0;continue}if(C[0]===3&&(!i||C[1]>i[0]&&C[1]<i[3])){m.label=C[1];break}if(C[0]===6&&m.label<i[1]){m.label=i[1],i=C;break}if(i&&m.label<i[2]){m.label=i[2],m.ops.push(C);break}i[2]&&m.ops.pop(),m.trys.pop();continue}C=y.call(b,m)}catch(M){C=[6,M],v=0}finally{E=i=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},to=Pe&&Pe.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(nr,"__esModule",{value:!0});var bi=nr.createMuPdf=void 0,ao=to(pr);function ki(){return no(this,void 0,void 0,function(){var b;return io(this,function(y){switch(y.label){case 0:return[4,ao.default()];case 1:return b=y.sent(),[2,oo(b)]}})})}bi=nr.createMuPdf=ki;nr.default=ki;function oo(b){var y=b.FS.writeFile,m=b.openDocument;return yr({load:function(E,v){return v===void 0&&(v=uo()),y(v,E),m(v)}},b)}var lo=0;function uo(){return"tmp_"+lo+++".pdf"}function so(b){let y,m,E,v,i,F,k,A,C,M,I,N;return{c(){y=de("svg"),m=de("g"),E=de("circle"),v=de("animate"),i=de("animate"),F=de("animate"),k=de("circle"),A=de("animate"),C=de("animate"),M=de("animate"),I=de("circle"),N=de("animate"),this.h()},l(L){y=ve(L,"svg",{class:!0,width:!0,height:!0,viewBox:!0,xmlns:!0,stroke:!0});var H=$(y);m=ve(H,"g",{fill:!0,"fill-rule":!0,transform:!0,"stroke-width":!0});var q=$(m);E=ve(q,"circle",{cx:!0,cy:!0,r:!0,"stroke-opacity":!0});var R=$(E);v=ve(R,"animate",{attributeName:!0,begin:!0,dur:!0,values:!0,calcMode:!0,repeatCount:!0}),$(v).forEach(W),i=ve(R,"animate",{attributeName:!0,begin:!0,dur:!0,values:!0,calcMode:!0,repeatCount:!0}),$(i).forEach(W),F=ve(R,"animate",{attributeName:!0,begin:!0,dur:!0,values:!0,calcMode:!0,repeatCount:!0}),$(F).forEach(W),R.forEach(W),k=ve(q,"circle",{cx:!0,cy:!0,r:!0,"stroke-opacity":!0});var U=$(k);A=ve(U,"animate",{attributeName:!0,begin:!0,dur:!0,values:!0,calcMode:!0,repeatCount:!0}),$(A).forEach(W),C=ve(U,"animate",{attributeName:!0,begin:!0,dur:!0,values:!0,calcMode:!0,repeatCount:!0}),$(C).forEach(W),M=ve(U,"animate",{attributeName:!0,begin:!0,dur:!0,values:!0,calcMode:!0,repeatCount:!0}),$(M).forEach(W),U.forEach(W),I=ve(q,"circle",{cx:!0,cy:!0,r:!0});var O=$(I);N=ve(O,"animate",{attributeName:!0,begin:!0,dur:!0,values:!0,calcMode:!0,repeatCount:!0}),$(N).forEach(W),O.forEach(W),q.forEach(W),H.forEach(W),this.h()},h(){w(v,"attributeName","r"),w(v,"begin","1.5s"),w(v,"dur","3s"),w(v,"values","6;22"),w(v,"calcMode","linear"),w(v,"repeatCount","indefinite"),w(i,"attributeName","stroke-opacity"),w(i,"begin","1.5s"),w(i,"dur","3s"),w(i,"values","1;0"),w(i,"calcMode","linear"),w(i,"repeatCount","indefinite"),w(F,"attributeName","stroke-width"),w(F,"begin","1.5s"),w(F,"dur","3s"),w(F,"values","2;0"),w(F,"calcMode","linear"),w(F,"repeatCount","indefinite"),w(E,"cx","22"),w(E,"cy","22"),w(E,"r","6"),w(E,"stroke-opacity","0"),w(A,"attributeName","r"),w(A,"begin","3s"),w(A,"dur","3s"),w(A,"values","6;22"),w(A,"calcMode","linear"),w(A,"repeatCount","indefinite"),w(C,"attributeName","stroke-opacity"),w(C,"begin","3s"),w(C,"dur","3s"),w(C,"values","1;0"),w(C,"calcMode","linear"),w(C,"repeatCount","indefinite"),w(M,"attributeName","stroke-width"),w(M,"begin","3s"),w(M,"dur","3s"),w(M,"values","2;0"),w(M,"calcMode","linear"),w(M,"repeatCount","indefinite"),w(k,"cx","22"),w(k,"cy","22"),w(k,"r","6"),w(k,"stroke-opacity","0"),w(N,"attributeName","r"),w(N,"begin","0s"),w(N,"dur","1.5s"),w(N,"values","6;1;2;3;4;5;6"),w(N,"calcMode","linear"),w(N,"repeatCount","indefinite"),w(I,"cx","22"),w(I,"cy","22"),w(I,"r","8"),w(m,"fill","none"),w(m,"fill-rule","evenodd"),w(m,"transform","translate(1 1)"),w(m,"stroke-width","2"),w(y,"class","text-rose-500"),w(y,"width","45"),w(y,"height","45"),w(y,"viewBox","0 0 45 45"),w(y,"xmlns","http://www.w3.org/2000/svg"),w(y,"stroke","currentColor")},m(L,H){ke(L,y,H),z(y,m),z(m,E),z(E,v),z(E,i),z(E,F),z(m,k),z(k,A),z(k,C),z(k,M),z(m,I),z(I,N)},p:fe,i:fe,o:fe,d(L){L&&W(y)}}}class fo extends yi{constructor(y){super(),_i(this,y,null,so,gi,{})}}function di(b,y,m){const E=b.slice();return E[16]=y[m],E[18]=m,E}function vi(b,y,m){const E=b.slice();return E[19]=y[m],E}function co(b){return{c:fe,l:fe,m:fe,p:fe,i:fe,o:fe,d:fe}}function vo(b){var C;let y,m,E,v=(((C=b[6])==null?void 0:C.length)??0)+"",i,F,k=b[6]??[],A=[];for(let M=0;M<k.length;M+=1)A[M]=pi(di(b,k,M));return{c(){y=te("div"),m=te("div"),E=me("Files: "),i=me(v),F=ye();for(let M=0;M<A.length;M+=1)A[M].c();this.h()},l(M){y=ae(M,"DIV",{class:!0});var I=$(y);m=ae(I,"DIV",{class:!0});var N=$(m);E=pe(N,"Files: "),i=pe(N,v),N.forEach(W),F=_e(I);for(let L=0;L<A.length;L+=1)A[L].l(I);I.forEach(W),this.h()},h(){w(m,"class","px-[3rem]"),w(y,"class","preview-container")},m(M,I){ke(M,y,I),z(y,m),z(m,E),z(m,i),z(y,F);for(let N=0;N<A.length;N+=1)A[N].m(y,null)},p(M,I){var N;if(I&8&&v!==(v=(((N=M[6])==null?void 0:N.length)??0)+"")&&Ne(i,v),I&56){k=M[6]??[];let L;for(L=0;L<k.length;L+=1){const H=di(M,k,L);A[L]?A[L].p(H,I):(A[L]=pi(H),A[L].c(),A[L].m(y,null))}for(;L<A.length;L+=1)A[L].d(1);A.length=k.length}},i:fe,o:fe,d(M){M&&W(y),Ei(A,M)}}}function mi(b){let y,m,E,v,i,F=b[19].hex+"",k,A,C,M,I=b[19].rgb+"",N,L,H,q,R=b[19].cmyk+"",U,O,B,K=b[19].percentage+"",J,V;return{c(){y=te("div"),m=te("div"),E=ye(),v=te("div"),i=me("Hex: "),k=me(F),A=ye(),C=te("div"),M=me("RGB: "),N=me(I),L=ye(),H=te("div"),q=me("CMYK: "),U=me(R),O=ye(),B=te("div"),J=me(K),V=me("%"),this.h()},l(ie){y=ae(ie,"DIV",{});var re=$(y);m=ae(re,"DIV",{class:!0}),$(m).forEach(W),E=_e(re),v=ae(re,"DIV",{});var Se=$(v);i=pe(Se,"Hex: "),k=pe(Se,F),Se.forEach(W),A=_e(re),C=ae(re,"DIV",{});var ge=$(C);M=pe(ge,"RGB: "),N=pe(ge,I),ge.forEach(W),L=_e(re),H=ae(re,"DIV",{});var he=$(H);q=pe(he,"CMYK: "),U=pe(he,R),he.forEach(W),O=_e(re),B=ae(re,"DIV",{});var ce=$(B);J=pe(ce,K),V=pe(ce,"%"),ce.forEach(W),re.forEach(W),this.h()},h(){w(m,"class","p-4"),ci(m,"background-color",b[19].color)},m(ie,re){ke(ie,y,re),z(y,m),z(y,E),z(y,v),z(v,i),z(v,k),z(y,A),z(y,C),z(C,M),z(C,N),z(y,L),z(y,H),z(H,q),z(H,U),z(y,O),z(y,B),z(B,J),z(B,V)},p(ie,re){re&48&&ci(m,"background-color",ie[19].color),re&48&&F!==(F=ie[19].hex+"")&&Ne(k,F),re&48&&I!==(I=ie[19].rgb+"")&&Ne(N,I),re&48&&R!==(R=ie[19].cmyk+"")&&Ne(U,R),re&48&&K!==(K=ie[19].percentage+"")&&Ne(J,K)},d(ie){ie&&W(y)}}}function pi(b){var q;let y,m,E,v,i,F,k,A=b[16].name+"",C,M,I,N,L=((q=b[5].form)==null?void 0:q.kmeans_colors[b[18]])??b[4][b[18]]??[],H=[];for(let R=0;R<L.length;R+=1)H[R]=mi(vi(b,L,R));return{c(){y=te("div"),m=te("figure"),E=te("img"),F=ye(),k=te("figcaption"),C=me(A),M=ye(),I=te("div");for(let R=0;R<H.length;R+=1)H[R].c();N=ye(),this.h()},l(R){y=ae(R,"DIV",{class:!0});var U=$(y);m=ae(U,"FIGURE",{class:!0});var O=$(m);E=ae(O,"IMG",{src:!0,alt:!0,class:!0}),F=_e(O),k=ae(O,"FIGCAPTION",{class:!0});var B=$(k);C=pe(B,A),B.forEach(W),O.forEach(W),U.forEach(W),M=_e(R),I=ae(R,"DIV",{class:!0});var K=$(I);for(let J=0;J<H.length;J+=1)H[J].l(K);N=_e(K),K.forEach(W),this.h()},h(){fi(E.src,v=b[16].url)||w(E,"src",v),w(E,"alt",i=b[16].name),w(E,"class","mx-auto svelte-4iaokg"),w(k,"class","text-center"),w(m,"class","space-y-2"),w(y,"class","grid place-items-center px-[3rem]"),w(I,"class","grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4 px-[3rem]")},m(R,U){ke(R,y,U),z(y,m),z(m,E),z(m,F),z(m,k),z(k,C),ke(R,M,U),ke(R,I,U);for(let O=0;O<H.length;O+=1)H[O].m(I,null);z(I,N)},p(R,U){var O;if(U&8&&!fi(E.src,v=R[16].url)&&w(E,"src",v),U&8&&i!==(i=R[16].name)&&w(E,"alt",i),U&8&&A!==(A=R[16].name+"")&&Ne(C,A),U&48){L=((O=R[5].form)==null?void 0:O.kmeans_colors[R[18]])??R[4][R[18]]??[];let B;for(B=0;B<L.length;B+=1){const K=vi(R,L,B);H[B]?H[B].p(K,U):(H[B]=mi(K),H[B].c(),H[B].m(I,N))}for(;B<H.length;B+=1)H[B].d(1);H.length=L.length}},d(R){R&&W(y),R&&W(M),R&&W(I),Ei(H,R)}}}function mo(b){let y,m,E,v,i,F;return m=new fo({}),{c(){y=te("div"),Ya(m.$$.fragment),E=ye(),v=te("div"),i=me("Generating preview."),this.h()},l(k){y=ae(k,"DIV",{class:!0});var A=$(y);Wa(m.$$.fragment,A),A.forEach(W),E=_e(k),v=ae(k,"DIV",{class:!0});var C=$(v);i=pe(C,"Generating preview."),C.forEach(W),this.h()},h(){w(y,"class","grid place-items-center p-[3rem]"),w(v,"class","text-center px-[3rem]")},m(k,A){ke(k,y,A),Ga(m,y,null),ke(k,E,A),ke(k,v,A),z(v,i),F=!0},p:fe,i(k){F||(hi(m.$$.fragment,k),F=!0)},o(k){wi(m.$$.fragment,k),F=!1},d(k){k&&W(y),Va(m),k&&W(E),k&&W(v)}}}function po(b){let y,m,E,v,i,F,k,A,C,M,I,N,L,H,q,R,U={ctx:b,current:null,token:null,hasCatch:!1,pending:mo,then:vo,catch:co,value:6,blocks:[,,,]};return li(L=b[3],U),{c(){y=te("main"),m=te("section"),E=te("form"),v=te("div"),i=te("input"),F=ye(),k=te("input"),C=ye(),M=te("input"),I=ye(),N=te("div"),U.block.c(),this.h()},l(O){y=ae(O,"MAIN",{});var B=$(y);m=ae(B,"SECTION",{});var K=$(m);E=ae(K,"FORM",{method:!0,class:!0,enctype:!0});var J=$(E);v=ae(J,"DIV",{});var V=$(v);i=ae(V,"INPUT",{type:!0,name:!0,accept:!0}),V.forEach(W),F=_e(J),k=ae(J,"INPUT",{type:!0,class:!0}),C=_e(J),M=ae(J,"INPUT",{type:!0,class:!0}),J.forEach(W),I=_e(K),N=ae(K,"DIV",{class:!0});var ie=$(N);U.block.l(ie),ie.forEach(W),K.forEach(W),B.forEach(W),this.h()},h(){w(i,"type","file"),w(i,"name","file"),i.multiple=!0,w(i,"accept","image/*,.pdf"),w(k,"type","submit"),k.value="Submit",w(k,"class",A=b[2]?"border rounded px-4 text-rose-500 border-rose-500":"border rounded px-4 text-gray-500 border-gray-500"),k.disabled=!0,w(M,"type","reset"),M.value="Reset",w(M,"class","border border-gray-500 rounded px-4"),w(E,"method","POST"),w(E,"class","flex flex-wrap gap-4 px-[3rem]"),w(E,"enctype","multipart/form-data"),w(N,"class","space-y-4")},m(O,B){ke(O,y,B),z(y,m),z(m,E),z(E,v),z(v,i),b[10](i),z(E,F),z(E,k),b[11](k),z(E,C),z(E,M),z(m,I),z(m,N),U.block.m(N,U.anchor=null),U.mount=()=>N,U.anchor=null,H=!0,q||(R=[ui(i,"change",b[7]),ui(M,"click",b[8]),La(Za.call(null,E,b[9]))],q=!0)},p(O,[B]){b=O,(!H||B&4&&A!==(A=b[2]?"border rounded px-4 text-rose-500 border-rose-500":"border rounded px-4 text-gray-500 border-gray-500"))&&w(k,"class",A),U.ctx=b,B&8&&L!==(L=b[3])&&li(L,U)||za(U,b,B)},i(O){H||(hi(U.block),H=!0)},o(O){for(let B=0;B<3;B+=1){const K=U.blocks[B];wi(K)}H=!1},d(O){O&&W(y),b[10](null),b[11](null),U.block.d(),U.token=null,U=null,q=!1,Ua(R)}}}async function yo(b,y,m,E){return new Promise((v,i)=>{try{let F=[];for(let k=1;k<E;k++){const C={url:b.drawPageAsPNG(y,k,10),name:m.name,type:m.type};F.push(C)}v(F)}catch(F){console.log(F),i(F)}})}function _o(b,y,m){let E;Ha(b,Xa,O=>m(5,E=O));let v,i,F,k=[],A,C=[],M=!1;async function I(O){return new Promise((B,K)=>{const J=new FileReader;J.readAsDataURL(O),J.addEventListener("load",function(){const V={url:J.result,name:O.name,type:O.type};m(6,k=[...k,V]),B(k)})})}async function N(){L(!1);const O=v.files,B=["image/png","image/jpeg","image/jpg","image/webp","image/svg+xml","application/pdf"];if(console.log("onChange files: ",v.files),O){m(2,F=!0),m(1,i.disabled=!1,i),i.classList.remove("text-gray-500","border-gray-500"),i.classList.add("text-rose-500","border-rose-500"),Array.from(O).forEach(async K=>{const J=K.type==="application/pdf";console.log("file: ",K),B.includes(K.type)&&!J?m(3,A=I(K)):m(3,A=q(K))});return}m(2,F=!1)}async function L(O=!0){if(m(6,k=[]),await mr(),O){const B=document.querySelector(".preview-container");B.parentNode&&B.parentNode.removeChild(B)}}async function H({form:O,data:B,action:K,cancel:J}){await mr();let V=B.getAll("file");console.log("all files:",V);for(const ie of V)B.append("filenames",ie.name);return async({result:ie,update:re})=>{console.log(ie),m(1,i.disabled=!0,i),i.classList.add("text-gray-500","border-gray-500"),i.classList.remove("text-rose-500","border-rose-500"),await re()}}const q=async O=>new Promise(async(B,K)=>{try{M=!0;const J=Date.now(),V=await bi();console.log("mupdf: ",V);const ie=await O.arrayBuffer(),re=new Uint8Array(ie),Se=V.load(re),ge=V.countPages(Se),he=await yo(V,Se,O,ge),ze=await(await fetch("/api/kmeans_colors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(he)})).json();ze&&(M=!1),m(4,C=ze.kmeans_colors??[]);const Oe=Date.now();console.log(`mupdfPreview done in ${Math.round((Oe-J)/1e3)}s`),B(he)}catch(J){console.log(J),K(J)}});function R(O){si[O?"unshift":"push"](()=>{v=O,m(0,v)})}function U(O){si[O?"unshift":"push"](()=>{i=O,m(1,i)})}return[v,i,F,A,C,E,k,N,L,H,R,U]}class ko extends yi{constructor(y){super(),_i(this,y,_o,po,gi,{})}}export{ko as default};
