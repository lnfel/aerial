{"version":3,"file":"_page.svelte-60efbdb9.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, b as subscribe, d as add_attribute, i as is_promise, n as noop, v as validate_component, e as escape, f as each, g as add_styles } from \"../../chunks/index2.js\";\nimport \"devalue\";\nimport { p as page } from \"../../chunks/stores.js\";\nimport \"mupdf-js\";\nconst Pulse = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  return `<svg class=\"${\"text-rose-500\"}\" width=\"${\"45\"}\" height=\"${\"45\"}\" viewBox=\"${\"0 0 45 45\"}\" xmlns=\"${\"http://www.w3.org/2000/svg\"}\" stroke=\"${\"currentColor\"}\"><g fill=\"${\"none\"}\" fill-rule=\"${\"evenodd\"}\" transform=\"${\"translate(1 1)\"}\" stroke-width=\"${\"2\"}\"><circle cx=\"${\"22\"}\" cy=\"${\"22\"}\" r=\"${\"6\"}\" stroke-opacity=\"${\"0\"}\"><animate attributeName=\"${\"r\"}\" begin=\"${\"1.5s\"}\" dur=\"${\"3s\"}\" values=\"${\"6;22\"}\" calcMode=\"${\"linear\"}\" repeatCount=\"${\"indefinite\"}\"></animate><animate attributeName=\"${\"stroke-opacity\"}\" begin=\"${\"1.5s\"}\" dur=\"${\"3s\"}\" values=\"${\"1;0\"}\" calcMode=\"${\"linear\"}\" repeatCount=\"${\"indefinite\"}\"></animate><animate attributeName=\"${\"stroke-width\"}\" begin=\"${\"1.5s\"}\" dur=\"${\"3s\"}\" values=\"${\"2;0\"}\" calcMode=\"${\"linear\"}\" repeatCount=\"${\"indefinite\"}\"></animate></circle><circle cx=\"${\"22\"}\" cy=\"${\"22\"}\" r=\"${\"6\"}\" stroke-opacity=\"${\"0\"}\"><animate attributeName=\"${\"r\"}\" begin=\"${\"3s\"}\" dur=\"${\"3s\"}\" values=\"${\"6;22\"}\" calcMode=\"${\"linear\"}\" repeatCount=\"${\"indefinite\"}\"></animate><animate attributeName=\"${\"stroke-opacity\"}\" begin=\"${\"3s\"}\" dur=\"${\"3s\"}\" values=\"${\"1;0\"}\" calcMode=\"${\"linear\"}\" repeatCount=\"${\"indefinite\"}\"></animate><animate attributeName=\"${\"stroke-width\"}\" begin=\"${\"3s\"}\" dur=\"${\"3s\"}\" values=\"${\"2;0\"}\" calcMode=\"${\"linear\"}\" repeatCount=\"${\"indefinite\"}\"></animate></circle><circle cx=\"${\"22\"}\" cy=\"${\"22\"}\" r=\"${\"8\"}\"><animate attributeName=\"${\"r\"}\" begin=\"${\"0s\"}\" dur=\"${\"1.5s\"}\" values=\"${\"6;1;2;3;4;5;6\"}\" calcMode=\"${\"linear\"}\" repeatCount=\"${\"indefinite\"}\"></animate></circle></g></svg>`;\n});\nconst _page_svelte_svelte_type_style_lang = \"\";\nconst css = {\n  code: \"img.svelte-4iaokg{max-width:100%;max-height:15rem;border-radius:0.5rem}\",\n  map: null\n};\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $page, $$unsubscribe_page;\n  $$unsubscribe_page = subscribe(page, (value) => $page = value);\n  let submitBtn;\n  let promise;\n  let kmeans_colors = [];\n  $$result.css.add(css);\n  $$unsubscribe_page();\n  return `<main><section><form method=\"${\"POST\"}\" class=\"${\"flex flex-wrap gap-4 px-[3rem]\"}\" enctype=\"${\"multipart/form-data\"}\"><div><input type=\"${\"file\"}\" name=\"${\"file\"}\" multiple accept=\"${\"image/*,.pdf\"}\"></div>\n\n            <input type=\"${\"submit\"}\" value=\"${\"Submit\"}\"${add_attribute(\n    \"class\",\n    \"border rounded px-4 text-gray-500 border-gray-500\",\n    0\n  )} disabled${add_attribute(\"this\", submitBtn, 0)}>\n            <input type=\"${\"reset\"}\" value=\"${\"Reset\"}\" class=\"${\"border border-gray-500 rounded px-4\"}\"></form>\n\n        <div class=\"${\"space-y-4\"}\">${function(__value) {\n    if (is_promise(__value)) {\n      __value.then(null, noop);\n      return `\n                <div class=\"${\"grid place-items-center p-[3rem]\"}\">${validate_component(Pulse, \"Pulse\").$$render($$result, {}, {}, {})}</div>\n                <div class=\"${\"text-center px-[3rem]\"}\">Generating preview.\n                </div>\n            `;\n    }\n    return function(images) {\n      return ` \n                <div class=\"${\"preview-container\"}\"><div class=\"${\"px-[3rem]\"}\">Files: ${escape(images?.length ?? 0)}</div>\n                    ${each(images ?? [], (preview, index) => {\n        return `<div class=\"${\"grid place-items-center px-[3rem]\"}\"><figure class=\"${\"space-y-2\"}\"><img${add_attribute(\"src\", preview.url, 0)}${add_attribute(\"alt\", preview.name, 0)} class=\"${\"mx-auto svelte-4iaokg\"}\">\n                                <figcaption class=\"${\"text-center\"}\">${escape(preview.name)}</figcaption>\n                            </figure></div>\n\n                        <div class=\"${\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4 px-[3rem]\"}\">${each($page.form?.kmeans_colors[index] ?? kmeans_colors[index] ?? [], (pallete) => {\n          return `<div><div class=\"${\"p-4\"}\"${add_styles({ \"background-color\": pallete.color })}></div>\n                                    <div>Hex: ${escape(pallete.hex)}</div>\n                                    <div>RGB: ${escape(pallete.rgb)}</div>\n                                    <div>CMYK: ${escape(pallete.cmyk)}</div>\n                                    <div>${escape(pallete.percentage)}%</div>\n                                </div>`;\n        })}\n                        </div>`;\n      })}</div>\n            `;\n    }(__value);\n  }(promise)}</div></section>\n</main>`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}